

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pythonids.pythondist &mdash; pythonids  documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.1.37
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Shortcuts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">PythonIDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../index_part_cockpit.html">apidoc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../index_part_apiref_scaled.html">apiref</a></li>
</ul>
<p class="caption"><span class="caption-text">Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../index_part_abstract.html">1. Abstract</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../index_part_platform_support.html">2. Platform Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../index_part_blueprint.html">3. Blueprint</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../index_part_documents.html">4. Documents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../index_modules.html">5. Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../index_part_indices.html">6. Indices and tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../index_part_resources.html">7. Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">8. Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references.html">9. External References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../index_part_license.html">10. Licenses</a></li>
</ul>
<p class="caption"><span class="caption-text">Application</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../howto/index.html">Howto</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/index.html">FAQ</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">pythonids</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Module code</a> &raquo;</li>
        
      <li>pythonids.pythondist</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for pythonids.pythondist</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;*pythonids.pythondist* provides information about the Python implementation.</span>

<span class="sd">Raises &#39;pythonids.PythonIDsImplementationError&#39; when implementation is not supported.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="c1">#############################################</span>
<span class="c1">#</span>
<span class="c1"># See manuals for the detailed API.</span>
<span class="c1">#</span>
<span class="c1">#############################################</span>

<span class="kn">import</span> <span class="nn">sys</span>
<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">platform</span>
    <span class="kn">import</span> <span class="nn">re</span>

<span class="k">except</span><span class="p">:</span>
    <span class="c1">#</span>
    <span class="c1"># missing *platform* and/or *re* requires various special code-sections</span>
    <span class="c1"># possible supported are currently MicroPython and CircuitPython</span>
    <span class="c1"># see &#39;pythonids.implementation&#39;</span>
    <span class="c1">#</span>

    <span class="kn">from</span> <span class="nn">pythonids</span> <span class="k">import</span> <span class="n">PythonIDsImplementationError</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">PythonIDsImplementationError</span><span class="p">(</span><span class="s2">&quot;use implementation module for: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">implementation</span><span class="p">))</span>  <span class="c1"># @UndefinedVariable</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">PythonIDsImplementationError</span><span class="p">(</span><span class="s2">&quot;implementation is not supported&quot;</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">collections</span> <span class="k">import</span> <span class="n">namedtuple</span>

<span class="kn">from</span> <span class="nn">pythonids</span> <span class="k">import</span> <span class="n">PythonIDsError</span><span class="p">,</span> <span class="n">ISSTR</span><span class="p">,</span> <span class="n">decode_pysyntax_str_to_num</span>


<span class="n">__author__</span> <span class="o">=</span> <span class="s1">&#39;Arno-Can Uestuensoez&#39;</span>
<span class="n">__license__</span> <span class="o">=</span> <span class="s2">&quot;Artistic-License-2.0 + Forced-Fairplay-Constraints&quot;</span>
<span class="n">__copyright__</span> <span class="o">=</span> <span class="s2">&quot;Copyright (C) 2010-2018 Arno-Can Uestuensoez&quot;</span> \
                <span class="s2">&quot; @Ingenieurbuero Arno-Can Uestuensoez&quot;</span>
<span class="n">__version__</span> <span class="o">=</span> <span class="s1">&#39;0.1.31&#39;</span>
<span class="n">__uuid__</span> <span class="o">=</span> <span class="s2">&quot;5624dc41-775a-4d17-ac42-14a0d5c41d1a&quot;</span>

<span class="n">__docformat__</span> <span class="o">=</span> <span class="s2">&quot;restructuredtext en&quot;</span>


<span class="c1">#</span>
<span class="c1"># separation masks </span>
<span class="c1">#</span>
<span class="c1"># the combined vector semantics is separative</span>
<span class="c1"># thus no hierarchical semantics</span>
<span class="c1">#</span>

<span class="c1"># category type bits - for structural integrity</span>
<span class="n">PYE_CATEGORY</span> <span class="o">=</span> <span class="mh">0x80000000</span>  <span class="c1"># bit 31 only - constant 1 for Python</span>

<span class="c1"># syntax type bits</span>
<span class="n">PYE_SYNTAXTYPE</span> <span class="o">=</span> <span class="mh">0x7f800000</span>  <span class="c1"># major + minor</span>
<span class="n">PYE_SYNTAXTYPE_MAJOR</span> <span class="o">=</span> <span class="mh">0x70000000</span>  <span class="c1"># major</span>
<span class="n">PYE_SYNTAXTYPE_MINOR</span> <span class="o">=</span> <span class="mh">0x0f800000</span>  <span class="c1"># minor</span>

<span class="c1"># distribution type bits</span>
<span class="n">PYE_DIST</span> <span class="o">=</span> <span class="mh">0x007c0000</span>  <span class="c1"># dist enum</span>

<span class="c1"># distribution release version bits</span>
<span class="n">PYE_DISTREL</span> <span class="o">=</span> <span class="mh">0x0003ffff</span>  <span class="c1"># major + minor + micro</span>
<span class="n">PYE_DISTREL_MAJOR</span> <span class="o">=</span> <span class="mh">0x0003f000</span>  <span class="c1"># major</span>
<span class="n">PYE_DISTREL_MINOR</span> <span class="o">=</span> <span class="mh">0x00000fc0</span>  <span class="c1"># minor</span>
<span class="n">PYE_DISTREL_MICRO</span> <span class="o">=</span> <span class="mh">0x0000003f</span>  <span class="c1"># micro</span>


<span class="c1">#</span>
<span class="c1"># category: constant PYE_PYTHOPN</span>
<span class="c1">#</span>
<span class="c1"># : CPython is basically the reference implementation of the Python Foundation @python.org </span>
<span class="c1">#</span>
<span class="n">PYE_PYTHON</span> <span class="o">=</span> <span class="mh">0x80000000</span>  <span class="c1"># this value is ignored</span>
<span class="n">PYE_PYTHON_PRETTY</span> <span class="o">=</span> <span class="s1">&#39;Python&#39;</span>
<span class="n">PYE_PYTHON_NAME</span> <span class="o">=</span> <span class="s1">&#39;python&#39;</span>

<span class="c1">#</span>
<span class="c1"># disttype - the predefined values cover the major and minor version only</span>
<span class="c1"># see manual: pythonids/python_categorization.html#bit-mask-layout</span>
<span class="c1">#</span>
<span class="n">PYE_PYTHON27</span> <span class="o">=</span> <span class="mh">0x23800000</span>  <span class="c1"># Python2.7</span>
<span class="n">PYE_PYTHON35</span> <span class="o">=</span> <span class="mh">0x32800000</span>  <span class="c1"># Python3.5</span>
<span class="n">PYE_PYTHON36</span> <span class="o">=</span> <span class="mh">0x33000000</span>  <span class="c1"># Python3.6</span>
<span class="n">PYE_PYTHON37</span> <span class="o">=</span> <span class="mh">0x33800000</span>  <span class="c1"># Python3.7</span>
<span class="n">PYE_PYTHON38</span> <span class="o">=</span> <span class="mh">0x34000000</span>  <span class="c1"># Python3.8</span>
<span class="n">PYE_PYTHON39</span> <span class="o">=</span> <span class="mh">0x34800000</span>  <span class="c1"># Python3.9</span>

<span class="c1">#</span>
<span class="c1"># dist - the distribution may define it&#39;s own variant of the core reference syntax including another set of stdlibs</span>
<span class="c1">#</span>

<span class="c1"># : CPython is basically the reference implementation of the Python Foundation @python.org </span>
<span class="n">PYE_CPYTHON</span> <span class="o">=</span> <span class="mh">0x00040000</span>  <span class="c1"># nr: 1</span>
<span class="n">PYE_CPYTHON_PRETTY</span> <span class="o">=</span> <span class="s1">&#39;CPython&#39;</span>
<span class="n">PYE_CPYTHON_NAME</span> <span class="o">=</span> <span class="s1">&#39;cpython&#39;</span>

<span class="c1"># : The variant of MicroPython for tiney devices and IoT by Adafruit inc.</span>
<span class="n">PYE_CIRCUITPYTHON</span> <span class="o">=</span> <span class="mh">0x00080000</span>  <span class="c1"># nr: 2</span>
<span class="n">PYE_CIRCUITPYTHON_PRETTY</span> <span class="o">=</span> <span class="s1">&#39;CircuitPython&#39;</span>
<span class="n">PYE_CIRCUITPYTHON_NAME</span> <span class="o">=</span> <span class="s1">&#39;circuitpython&#39;</span>

<span class="c1"># : Python with extensions compilation into C-like results </span>
<span class="n">PYE_CYTHON</span> <span class="o">=</span> <span class="mh">0x000c0000</span>  <span class="c1"># nr: 3</span>
<span class="n">PYE_CYTHON_PRETTY</span> <span class="o">=</span> <span class="s1">&#39;Cython&#39;</span>
<span class="n">PYE_CYTHON_NAME</span> <span class="o">=</span> <span class="s1">&#39;cython&#39;</span>

<span class="c1"># : Pynteractive Python with a smart command line interface too - beneath it&#39;s GUI capabilities.</span>
<span class="n">PYE_IPYTHON</span> <span class="o">=</span> <span class="mh">0x00100000</span>  <span class="c1"># nr: 4</span>
<span class="n">PYE_IPYTHON_PRETTY</span> <span class="o">=</span> <span class="s1">&#39;iPython&#39;</span>
<span class="n">PYE_IPYTHON_NAME</span> <span class="o">=</span> <span class="s1">&#39;ipython&#39;</span>

<span class="c1"># : The Python variant specialized on .NET and mono runtime platforms - so basically targeting Windows environments</span>
<span class="n">PYE_IRONPYTHON</span> <span class="o">=</span> <span class="mh">0x00140000</span>  <span class="c1"># nr: 5</span>
<span class="n">PYE_IRONPYTHON_PRETTY</span> <span class="o">=</span> <span class="s1">&#39;IronPython&#39;</span>
<span class="n">PYE_IRONPYTHON_NAME</span> <span class="o">=</span> <span class="s1">&#39;ironpython&#39;</span>

<span class="c1"># : Java JVM and JIT based Python</span>
<span class="n">PYE_JYTHON</span> <span class="o">=</span> <span class="mh">0x00180000</span>  <span class="c1"># nr: 6</span>
<span class="n">PYE_JYTHON_PRETTY</span> <span class="o">=</span> <span class="s1">&#39;Jython&#39;</span>
<span class="n">PYE_JYTHON_NAME</span> <span class="o">=</span> <span class="s1">&#39;jython&#39;</span>

<span class="c1"># : The crowd funded variant of Python with a schedular, basically replacing a shell and OS by pure and only Python with optional C-plugins </span>
<span class="n">PYE_MICROPYTHON</span> <span class="o">=</span> <span class="mh">0x001c0000</span>  <span class="c1"># nr: 7</span>
<span class="n">PYE_MICROPYTHON_PRETTY</span> <span class="o">=</span> <span class="s1">&#39;MicroPython&#39;</span>
<span class="n">PYE_MICROPYTHON_NAME</span> <span class="o">=</span> <span class="s1">&#39;micropython&#39;</span>

<span class="n">PYE_PYPY</span> <span class="o">=</span> <span class="mh">0x00200000</span>  <span class="c1"># nr: 8</span>
<span class="n">PYE_PYPY_PRETTY</span> <span class="o">=</span> <span class="s1">&#39;PyPy&#39;</span>
<span class="n">PYE_PYPY_NAME</span> <span class="o">=</span> <span class="s1">&#39;pypy&#39;</span>

<span class="c1">#</span>
<span class="c1"># Some reference values of 32bit hexrelease for test and validation.</span>
<span class="c1"># E.g. valid as:</span>
<span class="c1">#</span>
<span class="c1">#   pythonids.pydist.PythonDist.hexrelease</span>
<span class="c1">#</span>
<span class="n">PYE_PYDIST_CPYTHON2715</span> <span class="o">=</span> <span class="mh">0xa38421cf</span>  <span class="c1">#: CPython-2.7.15   - Python2.7</span>
<span class="n">PYE_PYDIST_CPYTHON372</span> <span class="o">=</span> <span class="mh">0xb38431c2</span>  <span class="c1">#: CPython-3.7.2    - Python3.7</span>
<span class="n">PYE_PYDIST_IPYTHON550</span> <span class="o">=</span> <span class="mh">0xA3905140</span>  <span class="c1">#: IPython-5.5.0    - Python2.7</span>
<span class="n">PYE_PYDIST_IPYTHON560</span> <span class="o">=</span> <span class="mh">0xA3905180</span>  <span class="c1"># IPython-5.6.0    - Python2.7</span>
<span class="n">PYE_PYDIST_IRONPYTHON277</span> <span class="o">=</span> <span class="mh">0xA39421C7</span>  <span class="c1">#: IRonPython-2.7.7 - Python2.7</span>
<span class="n">PYE_PYDIST_IRONPYTHON279</span> <span class="o">=</span> <span class="mh">0xA39421C9</span>  <span class="c1">#: IRonPython-2.7.9 - Python2.7</span>
<span class="n">PYE_PYDIST_JYTHON270</span> <span class="o">=</span> <span class="mh">0xA39821C0</span>  <span class="c1">#: Jython-2.7.0     - Python2.7</span>
<span class="n">PYE_PYDIST_JYTHON271</span> <span class="o">=</span> <span class="mh">0xA39821C1</span>  <span class="c1">#: Jython-2.7.1     - Python2.7</span>
<span class="n">PYE_PYDIST_PYPY580</span> <span class="o">=</span> <span class="mh">0xA3A05200</span>  <span class="c1">#: PyPy-5.8.0       - Python2.7</span>
<span class="n">PYE_PYDIST_PYPY60027</span> <span class="o">=</span> <span class="mh">0xA3A06000</span>  <span class="c1">#: PyPy-6.0.0       - Python2.7</span>
<span class="n">PYE_PYDIST_PYPY60035</span> <span class="o">=</span> <span class="mh">0xB2A06000</span>  <span class="c1">#: PyPy-6.0.0       - Python3.5</span>
<span class="n">PYE_PYDIST_PYPY70036</span> <span class="o">=</span> <span class="mh">0xB3207000</span>  <span class="c1">#: PyPy-7.0.0       - Python3.6</span>

<span class="n">dist2num</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">PYE_CIRCUITPYTHON</span><span class="p">:</span> <span class="n">PYE_CIRCUITPYTHON</span><span class="p">,</span>
    <span class="n">PYE_CIRCUITPYTHON_NAME</span><span class="p">:</span> <span class="n">PYE_CIRCUITPYTHON</span><span class="p">,</span>
    <span class="n">PYE_CIRCUITPYTHON_PRETTY</span><span class="p">:</span> <span class="n">PYE_CIRCUITPYTHON</span><span class="p">,</span>
    <span class="n">PYE_CPYTHON</span><span class="p">:</span> <span class="n">PYE_CPYTHON</span><span class="p">,</span>
    <span class="n">PYE_CPYTHON_NAME</span><span class="p">:</span> <span class="n">PYE_CPYTHON</span><span class="p">,</span>
    <span class="n">PYE_CPYTHON_PRETTY</span><span class="p">:</span> <span class="n">PYE_CPYTHON</span><span class="p">,</span>
    <span class="n">PYE_CYTHON</span><span class="p">:</span> <span class="n">PYE_CYTHON</span><span class="p">,</span>
    <span class="n">PYE_CYTHON_NAME</span><span class="p">:</span> <span class="n">PYE_CYTHON</span><span class="p">,</span>
    <span class="n">PYE_CYTHON_PRETTY</span><span class="p">:</span> <span class="n">PYE_CYTHON</span><span class="p">,</span>
    <span class="n">PYE_IPYTHON</span><span class="p">:</span> <span class="n">PYE_IPYTHON</span><span class="p">,</span>
    <span class="n">PYE_IPYTHON_NAME</span><span class="p">:</span> <span class="n">PYE_IPYTHON</span><span class="p">,</span>
    <span class="n">PYE_IPYTHON_PRETTY</span><span class="p">:</span> <span class="n">PYE_IPYTHON</span><span class="p">,</span>
    <span class="n">PYE_IRONPYTHON</span><span class="p">:</span> <span class="n">PYE_IRONPYTHON</span><span class="p">,</span>
    <span class="n">PYE_IRONPYTHON_NAME</span><span class="p">:</span> <span class="n">PYE_IRONPYTHON</span><span class="p">,</span>
    <span class="n">PYE_IRONPYTHON_PRETTY</span><span class="p">:</span> <span class="n">PYE_IRONPYTHON</span><span class="p">,</span>
    <span class="n">PYE_JYTHON</span><span class="p">:</span> <span class="n">PYE_JYTHON</span><span class="p">,</span>
    <span class="n">PYE_JYTHON_NAME</span><span class="p">:</span> <span class="n">PYE_JYTHON</span><span class="p">,</span>
    <span class="n">PYE_JYTHON_PRETTY</span><span class="p">:</span> <span class="n">PYE_JYTHON</span><span class="p">,</span>
    <span class="n">PYE_MICROPYTHON</span><span class="p">:</span> <span class="n">PYE_MICROPYTHON</span><span class="p">,</span>
    <span class="n">PYE_MICROPYTHON_NAME</span><span class="p">:</span> <span class="n">PYE_MICROPYTHON</span><span class="p">,</span>
    <span class="n">PYE_MICROPYTHON_PRETTY</span><span class="p">:</span> <span class="n">PYE_MICROPYTHON</span><span class="p">,</span>
    <span class="n">PYE_PYPY</span><span class="p">:</span> <span class="n">PYE_PYPY</span><span class="p">,</span>
    <span class="n">PYE_PYPY_NAME</span><span class="p">:</span> <span class="n">PYE_PYPY</span><span class="p">,</span>
    <span class="n">PYE_PYPY_PRETTY</span><span class="p">:</span> <span class="n">PYE_PYPY</span><span class="p">,</span>
    <span class="n">PYE_PYTHON</span><span class="p">:</span> <span class="n">PYE_PYTHON</span><span class="p">,</span>
    <span class="n">PYE_PYTHON_PRETTY</span><span class="p">:</span> <span class="n">PYE_PYTHON</span><span class="p">,</span>
    <span class="n">PYE_PYTHON_NAME</span><span class="p">:</span> <span class="n">PYE_PYTHON</span><span class="p">,</span>
    <span class="n">PYE_PYTHON27</span><span class="p">:</span> <span class="n">PYE_PYTHON27</span><span class="p">,</span>
    <span class="n">PYE_PYTHON35</span><span class="p">:</span> <span class="n">PYE_PYTHON35</span><span class="p">,</span>
    <span class="n">PYE_PYTHON36</span><span class="p">:</span> <span class="n">PYE_PYTHON36</span><span class="p">,</span>
    <span class="n">PYE_PYTHON37</span><span class="p">:</span> <span class="n">PYE_PYTHON37</span><span class="p">,</span>
    <span class="n">PYE_PYTHON38</span><span class="p">:</span> <span class="n">PYE_PYTHON38</span><span class="p">,</span>
    <span class="n">PYE_PYTHON39</span><span class="p">:</span> <span class="n">PYE_PYTHON39</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">num2name</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">PYE_CPYTHON</span><span class="p">:</span> <span class="n">PYE_CPYTHON_NAME</span><span class="p">,</span>
    <span class="n">PYE_IPYTHON</span><span class="p">:</span> <span class="n">PYE_IPYTHON_NAME</span><span class="p">,</span>
    <span class="n">PYE_IRONPYTHON</span><span class="p">:</span> <span class="n">PYE_IRONPYTHON_NAME</span><span class="p">,</span>
    <span class="n">PYE_JYTHON</span><span class="p">:</span> <span class="n">PYE_JYTHON_NAME</span><span class="p">,</span>
    <span class="n">PYE_PYPY</span><span class="p">:</span> <span class="n">PYE_PYPY_NAME</span><span class="p">,</span>
    <span class="n">PYE_PYTHON</span><span class="p">:</span> <span class="n">PYE_PYTHON_NAME</span><span class="p">,</span>
    <span class="n">PYE_PYTHON27</span><span class="p">:</span> <span class="s2">&quot;python2.7&quot;</span><span class="p">,</span>
    <span class="n">PYE_PYTHON35</span><span class="p">:</span> <span class="s2">&quot;python3.5&quot;</span><span class="p">,</span>
    <span class="n">PYE_PYTHON36</span><span class="p">:</span> <span class="s2">&quot;python3.6&quot;</span><span class="p">,</span>
    <span class="n">PYE_PYTHON37</span><span class="p">:</span> <span class="s2">&quot;python3.7&quot;</span><span class="p">,</span>
    <span class="n">PYE_PYTHON38</span><span class="p">:</span> <span class="s2">&quot;python3.8&quot;</span><span class="p">,</span>
    <span class="n">PYE_PYTHON39</span><span class="p">:</span> <span class="s2">&quot;python3.9&quot;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">num2pretty</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">PYE_CPYTHON</span><span class="p">:</span> <span class="n">PYE_CPYTHON_PRETTY</span><span class="p">,</span>
    <span class="n">PYE_IPYTHON</span><span class="p">:</span> <span class="n">PYE_IPYTHON_PRETTY</span><span class="p">,</span>
    <span class="n">PYE_IRONPYTHON</span><span class="p">:</span> <span class="n">PYE_IRONPYTHON_PRETTY</span><span class="p">,</span>
    <span class="n">PYE_JYTHON</span><span class="p">:</span> <span class="n">PYE_JYTHON_PRETTY</span><span class="p">,</span>
    <span class="n">PYE_PYPY</span><span class="p">:</span> <span class="n">PYE_PYPY_PRETTY</span><span class="p">,</span>
    <span class="n">PYE_PYTHON</span><span class="p">:</span> <span class="n">PYE_PYTHON_PRETTY</span><span class="p">,</span>
    <span class="n">PYE_PYTHON27</span><span class="p">:</span> <span class="s2">&quot;Python-2.7&quot;</span><span class="p">,</span>
    <span class="n">PYE_PYTHON35</span><span class="p">:</span> <span class="s2">&quot;Python-3.5&quot;</span><span class="p">,</span>
    <span class="n">PYE_PYTHON36</span><span class="p">:</span> <span class="s2">&quot;Python-3.6&quot;</span><span class="p">,</span>
    <span class="n">PYE_PYTHON37</span><span class="p">:</span> <span class="s2">&quot;Python-3.7&quot;</span><span class="p">,</span>
    <span class="n">PYE_PYTHON38</span><span class="p">:</span> <span class="s2">&quot;Python-3.8&quot;</span><span class="p">,</span>
    <span class="n">PYE_PYTHON39</span><span class="p">:</span> <span class="s2">&quot;Python-3.9&quot;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1">#</span>
<span class="c1"># static parsers</span>
<span class="c1">#</span>
<span class="n">SPLITVERS</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(?s)(^[0-9]+)[.]([0-9]*)[.]([0-9]*).*&#39;</span><span class="p">)</span>
<span class="n">SPLITVERS2</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(?s)(^[0-9]+)[.]([0-9]*).*&#39;</span><span class="p">)</span>
<span class="n">STR2DISTREL</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;([0-9.]*)[^0-9]*&#39;</span><span class="p">)</span>

<span class="c1"># : The corresponding *bash* environment names.</span>
<span class="n">bash_map</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;category&#39;</span><span class="p">:</span> <span class="s2">&quot;PYDIST_CATEGORY&quot;</span><span class="p">,</span>
    <span class="s1">&#39;disttype&#39;</span><span class="p">:</span> <span class="s2">&quot;PYDIST_DISTTYPE&quot;</span><span class="p">,</span>
    <span class="s1">&#39;dist&#39;</span><span class="p">:</span> <span class="s2">&quot;PYDIST_DIST&quot;</span><span class="p">,</span>
    <span class="s1">&#39;distrel&#39;</span><span class="p">:</span> <span class="s2">&quot;PYDIST_DISTREL&quot;</span><span class="p">,</span>
    <span class="s1">&#39;hexrelease&#39;</span><span class="p">:</span> <span class="s2">&quot;PYDIST_DISTREL_HEXVERSION&quot;</span><span class="p">,</span>
    <span class="s1">&#39;compiler&#39;</span><span class="p">:</span> <span class="s2">&quot;PYDIST_COMPILER&quot;</span><span class="p">,</span>
    <span class="s1">&#39;compiler_version&#39;</span><span class="p">:</span> <span class="s2">&quot;PYDIST_COMPILER_VERSION&quot;</span><span class="p">,</span>
    <span class="s1">&#39;c_libc_version&#39;</span><span class="p">:</span> <span class="s2">&quot;PYDIST_C_LIBC_VERSION&quot;</span><span class="p">,</span>
    <span class="s1">&#39;c_compiler&#39;</span><span class="p">:</span> <span class="s2">&quot;PYDIST_C_COMPILER&quot;</span><span class="p">,</span>
    <span class="s1">&#39;c_compiler_version&#39;</span><span class="p">:</span> <span class="s2">&quot;PYDIST_C_COMPILER_VERSION&quot;</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># : The mapping of attributes to values.</span>
<span class="n">attribute_map</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;category&#39;</span><span class="p">:</span> <span class="s2">&quot;category&quot;</span><span class="p">,</span>
    <span class="s1">&#39;disttype&#39;</span><span class="p">:</span> <span class="s2">&quot;disttype&quot;</span><span class="p">,</span>
    <span class="s1">&#39;dist&#39;</span><span class="p">:</span> <span class="s2">&quot;dist&quot;</span><span class="p">,</span>
    <span class="s1">&#39;distrel&#39;</span><span class="p">:</span> <span class="s2">&quot;distrel&quot;</span><span class="p">,</span>
    <span class="s1">&#39;hexrelease&#39;</span><span class="p">:</span> <span class="s2">&quot;hexrelease&quot;</span><span class="p">,</span>
    <span class="s1">&#39;compiler&#39;</span><span class="p">:</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span>
    <span class="s1">&#39;compiler_version&#39;</span><span class="p">:</span> <span class="s2">&quot;compiler_version&quot;</span><span class="p">,</span>
    <span class="s1">&#39;c_libc_version&#39;</span><span class="p">:</span> <span class="s2">&quot;c_libc_version&quot;</span><span class="p">,</span>
    <span class="s1">&#39;c_compiler&#39;</span><span class="p">:</span> <span class="s2">&quot;c_compiler&quot;</span><span class="p">,</span>
    <span class="s1">&#39;c_compiler_version&#39;</span><span class="p">:</span> <span class="s2">&quot;c_compiler_version&quot;</span><span class="p">,</span>
<span class="p">}</span>


<span class="c1">#: Named tuple for structured results. See *collections.namedtuple*.</span>
<span class="n">PyDist</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;PyDist&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">,</span> <span class="s1">&#39;disttype&#39;</span><span class="p">,</span> <span class="s1">&#39;dist&#39;</span><span class="p">,</span> <span class="s1">&#39;distrel&#39;</span><span class="p">))</span> 

<span class="c1">#: Named tuple for structured results as sub-parts. See *collections.namedtuple*.</span>
<span class="n">PyDistSegments</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;PyDistSegments&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">,</span> <span class="s1">&#39;disttype&#39;</span><span class="p">,</span> <span class="s1">&#39;dist&#39;</span><span class="p">,</span> <span class="s1">&#39;distrel&#39;</span><span class="p">))</span> 

<span class="c1">#: Named tuple for structured results as *str*. See *collections.namedtuple*.</span>
<span class="n">PyDistStr</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;PyDistStr&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">,</span> <span class="s1">&#39;disttype&#39;</span><span class="p">,</span> <span class="s1">&#39;dist&#39;</span><span class="p">,</span> <span class="s1">&#39;distrel&#39;</span><span class="p">))</span> 

<div class="viewcode-block" id="PythonDistError"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDistError">[docs]</a><span class="k">class</span> <span class="nc">PythonDistError</span><span class="p">(</span><span class="n">PythonIDsError</span><span class="p">):</span>
    <span class="k">pass</span></div>


<span class="k">def</span> <span class="nf">_encode_distrel_bitmask</span><span class="p">(</span><span class="n">dx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dz</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span>
          <span class="p">(</span><span class="n">dx</span> <span class="o">&amp;</span> <span class="mi">63</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">12</span>  <span class="c1"># bit 17 - 12 - see version_info[0]</span>
        <span class="o">|</span> <span class="p">(</span><span class="n">dy</span> <span class="o">&amp;</span> <span class="mi">63</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">6</span>  <span class="c1"># bit 11 -  6 - see version_info[1]</span>
        <span class="o">|</span> <span class="p">(</span><span class="n">dz</span> <span class="o">&amp;</span> <span class="mi">63</span><span class="p">)</span>  <span class="c1"># bit  5 -  0 - see version_info[2] </span>
       <span class="p">)</span>


<span class="k">def</span> <span class="nf">_encode_distrel_str_bitmask</span><span class="p">(</span><span class="n">sxyz</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">STR2DISTREL</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\1&#39;</span><span class="p">,</span> <span class="n">sxyz</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>  <span class="c1"># variable length</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">res</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span>
              <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&amp;</span> <span class="mi">63</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">12</span>  <span class="c1"># bit 17 - 12 - see version_info[0]</span>
            <span class="o">|</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&amp;</span> <span class="mi">63</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">6</span>  <span class="c1"># bit 11 -  6 - see version_info[1]</span>
            <span class="o">|</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">&amp;</span> <span class="mi">63</span><span class="p">)</span>  <span class="c1"># bit  5 -  0 - see version_info[2] </span>
           <span class="p">)</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">res</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span>
              <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&amp;</span> <span class="mi">63</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">12</span>  <span class="c1"># bit 17 - 12 - see version_info[0]</span>
            <span class="o">|</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&amp;</span> <span class="mi">63</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">6</span>  <span class="c1"># bit 11 -  6 - see version_info[1]</span>
           <span class="p">)</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">res</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span>
              <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&amp;</span> <span class="mi">63</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">12</span>  <span class="c1"># bit 17 - 12 - see version_info[0]</span>
           <span class="p">)</span>
    <span class="k">return</span> <span class="p">()</span>


<span class="k">def</span> <span class="nf">_encode_disttype_bitmask</span><span class="p">(</span><span class="n">sma</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">smi</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span>
          <span class="p">(</span><span class="n">sma</span> <span class="o">&amp;</span> <span class="mi">7</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">28</span>  <span class="c1"># bit 30 - 28 - see version_info[0]</span>
        <span class="o">|</span> <span class="p">(</span><span class="n">smi</span> <span class="o">&amp;</span> <span class="mi">31</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">23</span>  <span class="c1"># bit 27 - 23 - see version_info[1]</span>
       <span class="p">)</span>


<span class="k">def</span> <span class="nf">_encode_disttype_str_bitmask</span><span class="p">(</span><span class="n">sxy</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">STR2DISTREL</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\1&#39;</span><span class="p">,</span> <span class="n">sxy</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>  <span class="c1"># variable length</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">res</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span>
              <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&amp;</span> <span class="mi">7</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">28</span>  <span class="c1"># bit 17 - 12 - see version_info[0]</span>
            <span class="o">|</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&amp;</span> <span class="mi">31</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">23</span>  <span class="c1"># bit 11 -  6 - see version_info[1]</span>
           <span class="p">)</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">res</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span>
              <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&amp;</span> <span class="mi">63</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">12</span>  <span class="c1"># bit 17 - 12 - see version_info[0]</span>
           <span class="p">)</span>
    <span class="k">return</span> <span class="p">()</span>

<div class="viewcode-block" id="decode_pydist_32bit_to_tuple_str"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.decode_pydist_32bit_to_tuple_str">[docs]</a><span class="k">def</span> <span class="nf">decode_pydist_32bit_to_tuple_str</span><span class="p">(</span><span class="n">ddat</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;   Decodes the 32bit hex representation of the Python distribution</span>
<span class="sd">    into a dict structure with str names and str representation of releases.</span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">    </span>
<span class="sd">        ddat:</span>
<span class="sd">        </span>
<span class="sd">            The 32bit value.</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">    </span>
<span class="sd">        Dictionary with components: ::</span>
<span class="sd">       </span>
<span class="sd">            result := {</span>
<span class="sd">               &#39;category&#39;: &#39;python&#39;,</span>
<span class="sd">               &#39;styntaxtype&#39;: &lt;str-syntax-release&gt;,</span>
<span class="sd">               &#39;dist&#39;: &lt;dist-name&gt;,</span>
<span class="sd">               &#39;distrel&#39;: &lt;str-dist-release&gt;</span>
<span class="sd">            }</span>
<span class="sd">            </span>
<span class="sd">            category:            canonical str name</span>
<span class="sd">            str-syntax-release:  string representation</span>
<span class="sd">            dist:                canonical str name</span>
<span class="sd">            str-dist-release:    string representation</span>
<span class="sd">    </span>
<span class="sd">    Raises:</span>
<span class="sd">    </span>
<span class="sd">        pass-through</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">_syn</span> <span class="o">=</span> <span class="n">num2name</span><span class="p">[</span><span class="n">ddat</span> <span class="o">&amp;</span> <span class="n">PYE_SYNTAXTYPE</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="n">_syn</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    
    <span class="k">try</span><span class="p">:</span>
        <span class="n">_dis</span> <span class="o">=</span> <span class="n">num2name</span><span class="p">[</span><span class="n">ddat</span> <span class="o">&amp;</span> <span class="n">PYE_DIST</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="n">_dis</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

    <span class="k">if</span> <span class="n">_dis</span> <span class="ow">or</span> <span class="p">(</span><span class="n">ddat</span> <span class="o">&amp;</span> <span class="n">PYE_DISTREL</span><span class="p">):</span>
        <span class="n">_disrel</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%d</span><span class="s2">.</span><span class="si">%d</span><span class="s2">.</span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="p">(</span><span class="n">ddat</span> <span class="o">&amp;</span> <span class="n">PYE_DISTREL_MAJOR</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">12</span><span class="p">,</span>
            <span class="p">(</span><span class="n">ddat</span> <span class="o">&amp;</span> <span class="n">PYE_DISTREL_MINOR</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">6</span><span class="p">,</span>
            <span class="n">ddat</span> <span class="o">&amp;</span> <span class="n">PYE_DISTREL_MICRO</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_disrel</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

    <span class="k">return</span> <span class="n">PyDistStr</span><span class="p">(</span>
        <span class="n">PYE_PYTHON_NAME</span><span class="p">,</span>
        <span class="n">_syn</span><span class="p">,</span>
        <span class="n">_dis</span><span class="p">,</span>
        <span class="n">_disrel</span><span class="p">,</span>
    <span class="p">)</span></div>


<div class="viewcode-block" id="decode_pydist_32bit_to_tuple_segments"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.decode_pydist_32bit_to_tuple_segments">[docs]</a><span class="k">def</span> <span class="nf">decode_pydist_32bit_to_tuple_segments</span><span class="p">(</span><span class="n">ddat</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;   Decodes the 32bit hex representation of the Python distribution</span>
<span class="sd">    into a dict structure with str names and numeric release vectors.</span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">    </span>
<span class="sd">        ddat:</span>
<span class="sd">        </span>
<span class="sd">            The 32bit value.</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">    </span>
<span class="sd">        Nametupel with the components: ::</span>
<span class="sd">         </span>
<span class="sd">            PyDist = namedtuple(&#39;PyDist&#39;, (&#39;category&#39;, &#39;disttype&#39;, &#39;dist&#39;, &#39;distrel&#39;))</span>
<span class="sd">            </span>
<span class="sd">            result := PyDist(</span>
<span class="sd">               PYE_PYTHON, (&lt;syntax-major&gt;,&lt;syntax-minor&gt;), &lt;32bit-dist&gt;, (&lt;dist-major&gt;, &lt;dist-minor&gt;, &lt;dist-micro&gt;)</span>
<span class="sd">             )</span>
<span class="sd">            </span>
<span class="sd">            PYE_PYTHON:            32bit-enum for category</span>
<span class="sd">            32bit-syntax-release:  32bit-value for syntax release</span>
<span class="sd">            32bit-dist:            32bit-enum for distribution</span>
<span class="sd">            32bit-dist-release:    32bit-value for distribution release</span>
<span class="sd">    </span>
<span class="sd">        Dictionary with components: ::</span>
<span class="sd">       </span>
<span class="sd">            result := {</span>
<span class="sd">               &#39;category&#39;: &#39;python&#39;,</span>
<span class="sd">               &#39;styntaxtype&#39;: (&lt;syntax-major&gt;,&lt;syntax-minor&gt;),</span>
<span class="sd">               &#39;dist&#39;: &lt;dist-name&gt;,</span>
<span class="sd">               &#39;distrel&#39;: (&lt;dist-major&gt;, &lt;dist-minor&gt;, &lt;dist-micro&gt;)</span>
<span class="sd">            }</span>
<span class="sd">            </span>
<span class="sd">            category:      canonical str name</span>
<span class="sd">            syntax-major:  int value</span>
<span class="sd">            syntax-minor:  int value</span>
<span class="sd">            dist:          canonical str name</span>
<span class="sd">            dist-major:    int value</span>
<span class="sd">            dist-minor:    int value</span>
<span class="sd">            dist-micro:    int value</span>
<span class="sd">    </span>
<span class="sd">    Raises:</span>
<span class="sd">    </span>
<span class="sd">        pass-through</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">PyDistSegments</span><span class="p">(</span>
        <span class="n">PYE_PYTHON</span> <span class="o">&gt;&gt;</span> <span class="mi">31</span><span class="p">,</span>  <span class="c1"># the only and one</span>
        <span class="p">(</span>
            <span class="p">(</span><span class="n">ddat</span> <span class="o">&amp;</span> <span class="n">PYE_SYNTAXTYPE_MAJOR</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">28</span><span class="p">,</span>
            <span class="p">(</span><span class="n">ddat</span> <span class="o">&amp;</span> <span class="n">PYE_SYNTAXTYPE_MINOR</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">23</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="p">(</span><span class="n">ddat</span> <span class="o">&amp;</span> <span class="n">PYE_DIST</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">18</span><span class="p">,</span>
        <span class="p">(</span>
            <span class="p">(</span><span class="n">ddat</span> <span class="o">&amp;</span> <span class="n">PYE_DISTREL_MAJOR</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">12</span><span class="p">,</span>
            <span class="p">(</span><span class="n">ddat</span> <span class="o">&amp;</span> <span class="n">PYE_DISTREL_MINOR</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">6</span><span class="p">,</span>
            <span class="n">ddat</span> <span class="o">&amp;</span> <span class="n">PYE_DISTREL_MICRO</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span></div>


<div class="viewcode-block" id="decode_pydist_32bit_to_tuple"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.decode_pydist_32bit_to_tuple">[docs]</a><span class="k">def</span> <span class="nf">decode_pydist_32bit_to_tuple</span><span class="p">(</span><span class="n">ddat</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;   Decodes the 32bit hex representation of the Python distribution</span>
<span class="sd">    into a flat tuple of numbers.</span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">    </span>
<span class="sd">        ddat:</span>
<span class="sd">        </span>
<span class="sd">            The 32bit value.</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">    </span>
<span class="sd">        Nametupel with the components: ::</span>
<span class="sd">         </span>
<span class="sd">            PyDist = namedtuple(&#39;PyDist&#39;, (&#39;category&#39;, &#39;disttype&#39;, &#39;dist&#39;, &#39;distrel&#39;))</span>
<span class="sd">            </span>
<span class="sd">            result := PyDist(</span>
<span class="sd">               PYE_PYTHON, &lt;32bit-syntax-release&gt;, &lt;32bit-dist&gt;, &lt;32bit-dist-release&gt;</span>
<span class="sd">             )</span>
<span class="sd">            </span>
<span class="sd">            PYE_PYTHON:            32bit-enum for category</span>
<span class="sd">            32bit-syntax-release:  32bit-value for syntax release</span>
<span class="sd">            32bit-dist:            32bit-enum for distribution</span>
<span class="sd">            32bit-dist-release:    32bit-value for distribution release</span>

<span class="sd">    Raises:</span>
<span class="sd">    </span>
<span class="sd">        pass-through</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">PyDist</span><span class="p">(</span>
        <span class="n">ddat</span> <span class="o">&amp;</span> <span class="n">PYE_CATEGORY</span><span class="p">,</span>
        <span class="n">ddat</span> <span class="o">&amp;</span> <span class="n">PYE_SYNTAXTYPE</span><span class="p">,</span>
        <span class="n">ddat</span> <span class="o">&amp;</span> <span class="n">PYE_DIST</span><span class="p">,</span>
        <span class="n">ddat</span> <span class="o">&amp;</span> <span class="n">PYE_DISTREL</span><span class="p">,</span>
       <span class="p">)</span></div>


<div class="viewcode-block" id="encode_pydist_to_32bit"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.encode_pydist_to_32bit">[docs]</a><span class="k">def</span> <span class="nf">encode_pydist_to_32bit</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dz</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sma</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">smi</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;   Encodes the Python distribution by calculating the 32bit integer </span>
<span class="sd">    bitmask for the provided Python distribution and syntax</span>
<span class="sd">    release information.</span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">        d:</span>
<span class="sd">            The numeric enum value of the distribution with original bit-positions.</span>
<span class="sd">        </span>
<span class="sd">        dx:</span>
<span class="sd">            The major distribution version number.</span>
<span class="sd">        </span>
<span class="sd">        dy:</span>
<span class="sd">            The minor distribution version number.</span>
<span class="sd">        </span>
<span class="sd">        dz:</span>
<span class="sd">            The micro distribution version number.</span>
<span class="sd">        </span>
<span class="sd">        sma:</span>
<span class="sd">            The major syntax version number.</span>
<span class="sd">        </span>
<span class="sd">        smi:</span>
<span class="sd">            The minor syntax version number.</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">    </span>
<span class="sd">       The 32bit bitmask.</span>
<span class="sd">       </span>
<span class="sd">            See `Python Distribution Categorization &lt;python_categorization.html&gt;`_.</span>
<span class="sd">    </span>
<span class="sd">    Raises:</span>
<span class="sd">          </span>
<span class="sd">        pass-through</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="n">PYE_PYTHON</span>  <span class="c1"># here anything is category=Python</span>
        <span class="o">|</span> <span class="n">d</span>  <span class="c1"># distribution enum in it&#39;s original bit positions</span>
        <span class="o">|</span> <span class="p">(</span><span class="n">dx</span> <span class="o">&amp;</span> <span class="mi">63</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">12</span>  <span class="c1"># bit 17 - 12 - see version_info[0]</span>
        <span class="o">|</span> <span class="p">(</span><span class="n">dy</span> <span class="o">&amp;</span> <span class="mi">63</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">6</span>  <span class="c1"># bit 11 -  6 - see version_info[1]</span>
        <span class="o">|</span> <span class="p">(</span><span class="n">dz</span> <span class="o">&amp;</span> <span class="mi">63</span><span class="p">)</span>  <span class="c1"># bit  5 -  0 - see version_info[2] </span>
        <span class="o">|</span> <span class="p">(</span><span class="n">sma</span> <span class="o">&amp;</span> <span class="mi">7</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">28</span>  <span class="c1"># bit 30 - 28 - see version_info[0]</span>
        <span class="o">|</span> <span class="p">(</span><span class="n">smi</span> <span class="o">&amp;</span> <span class="mi">31</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">23</span>  <span class="c1"># bit 27 - 23 - see version_info[1]</span>
       <span class="p">)</span></div>


<div class="viewcode-block" id="encode_pydist_segments_to_32bit"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.encode_pydist_segments_to_32bit">[docs]</a><span class="k">def</span> <span class="nf">encode_pydist_segments_to_32bit</span><span class="p">(</span><span class="o">**</span><span class="n">kargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;   Encodes the 32bit bitmask of the compressed platform information</span>
<span class="sd">    by the provided values of the sub fields. Non-provided values are</span>
<span class="sd">    set to *0*, and though ignored.</span>
<span class="sd">    </span>
<span class="sd">    This function is mainly designed and foreseen for cache preparation and test </span>
<span class="sd">    environments, though it inherently requires some of the systems performance.</span>
<span class="sd">    Thus do not use it within repetitive calls for performance critical large </span>
<span class="sd">    scale loops with small code sections.</span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">    </span>
<span class="sd">        kargs:</span>
<span class="sd">        </span>
<span class="sd">            category:</span>
<span class="sd">            </span>
<span class="sd">                The category. The only  and one permitted is *Python*: ::</span>
<span class="sd">            </span>
<span class="sd">                    category := (</span>
<span class="sd">                           PYE_PYTHON  # enum</span>
<span class="sd">                         | &#39;Python&#39;    # Pretty name</span>
<span class="sd">                         | &#39;python&#39;    # key</span>
<span class="sd">                         | 0           # None</span>
<span class="sd">                    )</span>
<span class="sd">            </span>
<span class="sd">                default := 0</span>
<span class="sd">            </span>
<span class="sd">            dist:</span>
<span class="sd">            </span>
<span class="sd">                The dist: ::</span>
<span class="sd">            </span>
<span class="sd">                    dist := (</span>
<span class="sd">                           PYE_CPYTHON | PYE_IPYTHON | PYE_IRONPYTHON</span>
<span class="sd">                         | PYE_JYTHON  | PYE_PYPY</span>
<span class="sd">                         | PYE_CIRCUITPYTHON | PYE_MICROPYTHON</span>
<span class="sd">                         | &lt;known-name-of-dist&gt;</span>
<span class="sd">                         | 0</span>
<span class="sd">                    )</span>
<span class="sd">                    known-name-of-dist := &quot;case insensitive name or pretty name of the distribution&quot;</span>
<span class="sd">                    0 := None</span>
<span class="sd">            </span>
<span class="sd">                    default:=0</span>
<span class="sd">            </span>
<span class="sd">            distrel:</span>
<span class="sd">            </span>
<span class="sd">                The distrel: ::</span>
<span class="sd">            </span>
<span class="sd">                    distrel := (</span>
<span class="sd">                           &lt;int-val&gt;</span>
<span class="sd">                         | (&lt;major&gt;, &lt;minor&gt;, &lt;micro&gt;)</span>
<span class="sd">                         | 0</span>
<span class="sd">                    )</span>
<span class="sd">                    int-val := the relative integer value of the distrel bits</span>
<span class="sd">                    (&lt;major&gt;, &lt;minor&gt;, &lt;micro&gt;):= the tuple of the Python distribution release</span>
<span class="sd">                    0 := None</span>
<span class="sd">            </span>
<span class="sd">                default := 0</span>

<span class="sd">            disttype:</span>
<span class="sd">            </span>
<span class="sd">                The disttype: ::</span>
<span class="sd">            </span>
<span class="sd">                    disttype := (</span>
<span class="sd">                           &lt;int-val&gt;</span>
<span class="sd">                         | (&lt;major&gt;, &lt;minor&gt;)</span>
<span class="sd">                         | 0</span>
<span class="sd">                    )</span>
<span class="sd">                    int-val := the relative integer value of the disttype bits</span>
<span class="sd">                    (&lt;major&gt;, &lt;minor&gt;) := the tuple of Python syntax version</span>
<span class="sd">                    0 := None</span>
<span class="sd">            </span>
<span class="sd">                default := 0</span>
<span class="sd">                </span>
<span class="sd">    Returns:</span>
<span class="sd">    </span>
<span class="sd">        The 32bit compressed bitmask of the of the distribution.</span>
<span class="sd">    </span>
<span class="sd">    Raises:</span>
<span class="sd">    </span>
<span class="sd">        pass-through</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">category</span> <span class="o">=</span> <span class="n">kargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">kargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">):</span>
        <span class="n">category</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="n">dist</span> <span class="o">=</span> <span class="n">kargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;dist&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dist</span><span class="p">,</span> <span class="n">ISSTR</span><span class="p">):</span>
            <span class="n">dist</span> <span class="o">=</span> <span class="n">dist2num</span><span class="p">[</span><span class="n">dist</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span>
    <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="c1"># sys.stderr.write(&quot;ERROR: unknown dist: &quot; + str(dist))</span>
        <span class="n">e</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">ERROR: unknown dist: </span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">dist</span><span class="p">))</span>
        <span class="k">raise</span>
          
    <span class="n">distrel</span> <span class="o">=</span> <span class="n">kargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;distrel&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">distrel</span><span class="p">,</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">)):</span>
        <span class="n">distrel</span> <span class="o">=</span> <span class="n">distrel</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">12</span> <span class="o">|</span> <span class="n">distrel</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">6</span> <span class="o">|</span> <span class="n">distrel</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">distrel</span><span class="p">,</span> <span class="n">ISSTR</span><span class="p">):</span>
        <span class="n">distrel</span> <span class="o">=</span> <span class="n">decode_pysyntax_str_to_num</span><span class="p">(</span><span class="n">distrel</span><span class="p">)</span>

    <span class="n">disttype</span> <span class="o">=</span> <span class="n">kargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;disttype&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">disttype</span><span class="p">,</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">)):</span>
        <span class="n">disttype</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">disttype</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&lt;&lt;</span> <span class="mi">5</span> <span class="o">|</span> <span class="nb">int</span><span class="p">(</span><span class="n">disttype</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">disttype</span><span class="p">,</span> <span class="n">ISSTR</span><span class="p">):</span>
        <span class="n">disttype</span> <span class="o">=</span> <span class="n">decode_pysyntax_str_to_num</span><span class="p">(</span><span class="n">disttype</span><span class="p">)</span>
        <span class="n">disttype</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">disttype</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&lt;&lt;</span> <span class="mi">5</span> <span class="o">|</span> <span class="nb">int</span><span class="p">(</span><span class="n">disttype</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>  <span class="c1"># ignore [3]</span>

    <span class="k">return</span> <span class="p">(</span>
        <span class="n">category</span> <span class="o">&lt;&lt;</span> <span class="mi">31</span> <span class="o">|</span> <span class="n">disttype</span> <span class="o">&lt;&lt;</span> <span class="mi">23</span> <span class="o">|</span> <span class="n">dist</span> <span class="o">|</span> <span class="n">distrel</span>
    <span class="p">)</span></div>


<div class="viewcode-block" id="PythonDist"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist">[docs]</a><span class="k">class</span> <span class="nc">PythonDist</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

<div class="viewcode-block" id="PythonDist.__init__"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;   Creates an empty object. The instance could be</span>
<span class="sd">        either initialized by the provided parameters, </span>
<span class="sd">        or remains empty - which is zero *0*.</span>
<span class="sd">        </span>
<span class="sd">        Provides *PythonDist.scan()* for the readout of </span>
<span class="sd">        the implementation information. The *scan()* is </span>
<span class="sd">        not called automatic. Each call of *scan()* </span>
<span class="sd">        replaces the previous values. </span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">        </span>
<span class="sd">            args:</span>
<span class="sd">            </span>
<span class="sd">                Optional positional parameters in the following order.</span>
<span class="sd">                The corresponding keyword-arguments dominate. ::</span>
<span class="sd">                </span>
<span class="sd">                    *args := [category [, disttype [, dist [, distrel]]]]</span>
<span class="sd">            </span>
<span class="sd">            kargs:</span>
<span class="sd">        </span>
<span class="sd">                category:</span>
<span class="sd">                </span>
<span class="sd">                    The registered *category* for initialization.</span>
<span class="sd">                    </span>
<span class="sd">                    default := 0</span>
<span class="sd">                </span>
<span class="sd">                disttype:</span>
<span class="sd">                </span>
<span class="sd">                    The registered *disttype* for initialization.</span>
<span class="sd">                    </span>
<span class="sd">                    default := 0</span>
<span class="sd">                </span>
<span class="sd">                dist:</span>
<span class="sd">                </span>
<span class="sd">                    The registered *dist* for initialization.</span>
<span class="sd">                    </span>
<span class="sd">                    default := 0</span>
<span class="sd">                </span>
<span class="sd">                distrel:</span>
<span class="sd">                </span>
<span class="sd">                    The registered *distrel* for initialization.</span>
<span class="sd">                    </span>
<span class="sd">                    default := 0</span>
<span class="sd">                </span>
<span class="sd">                forceall:</span>
<span class="sd">                </span>
<span class="sd">                    Controls the default for the scan of content: ::</span>
<span class="sd">                    </span>
<span class="sd">                        forceall := (</span>
<span class="sd">                             True    # scan distribution and compiler</span>
<span class="sd">                           | False   # scan distribution only</span>
<span class="sd">                        )</span>
<span class="sd">                    </span>
<span class="sd">                    default := False</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">        </span>
<span class="sd">            Initial instance, optionally initialized by the provided</span>
<span class="sd">            parameters. </span>
<span class="sd">        </span>
<span class="sd">        Raises:</span>
<span class="sd">            PythonIDsError</span>
<span class="sd">            </span>
<span class="sd">            pass-through</span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">category</span> <span class="o">=</span> <span class="n">PYE_PYTHON</span>  <span class="c1"># : the category ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">disttype</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># : the type ID of the syntax</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># : the resulting hex release</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dist</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># : the distribution ID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">distrel</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># : the release of the distribution</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">compiler</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compiler_version</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">compiler_version_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">c_libc_version</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">c_compiler</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">c_compiler_version</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">forceall</span> <span class="o">=</span> <span class="n">kargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;forceall&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>  <span class="c1"># : control the optional part of the scan</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">osrel_sp</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
            
            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># 0</span>
                <span class="n">_x</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="c1"># the category, currently only one: Python</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">category</span> <span class="o">=</span> <span class="n">dist2num</span><span class="p">[</span><span class="n">_x</span><span class="p">]</span> <span class="o">&amp;</span> <span class="n">PYE_CATEGORY</span>
                <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">PythonIDsError</span><span class="p">(</span><span class="s2">&quot;&#39;category&#39; not registered: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">_x</span><span class="p">))</span>

                <span class="k">try</span><span class="p">:</span>
                    <span class="c1"># 1</span>
                    <span class="n">_x</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="c1"># the syntax type of the distribution</span>
                        <span class="c1"># defined by Python syntax version &lt;major&gt;.&lt;minor&gt;</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">disttype</span> <span class="o">=</span> <span class="n">dist2num</span><span class="p">[</span><span class="n">_x</span><span class="p">]</span> <span class="o">&amp;</span> <span class="n">PYE_SYNTAXTYPE</span>
                    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                            <span class="k">if</span> <span class="ow">not</span> <span class="nb">type</span><span class="p">(</span><span class="n">_x</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">int</span><span class="p">:</span>
                                <span class="c1"># cannot map  </span>
                                <span class="k">raise</span> <span class="n">PythonIDsError</span><span class="p">(</span><span class="s2">&quot;&#39;disttype&#39; not registered: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">_x</span><span class="p">))</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">dist</span> <span class="o">=</span> <span class="n">_x</span> <span class="o">&amp;</span> <span class="n">PYE_SYNTAXTYPE</span>

                    <span class="k">try</span><span class="p">:</span>
                        <span class="c1"># 2</span>
                        <span class="n">_x</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
                        <span class="k">try</span><span class="p">:</span>
                            <span class="c1"># the implementation, current supported: CPython, IPython, IronPython, Jython, PyPy</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">dist</span> <span class="o">=</span> <span class="n">dist2num</span><span class="p">[</span><span class="n">_x</span><span class="p">]</span> <span class="o">&amp;</span> <span class="n">PYE_DIST</span>
                        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                            <span class="k">raise</span> <span class="n">PythonIDsError</span><span class="p">(</span><span class="s2">&quot;&#39;dist&#39; not registered: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">_x</span><span class="p">))</span>

                        <span class="k">try</span><span class="p">:</span>
                            <span class="c1"># 3</span>
                            <span class="n">_x</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
                            <span class="k">try</span><span class="p">:</span>
                                <span class="c1"># the release version &lt;major&gt;.&lt;minor&gt;.&lt;micro&gt;</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">distrel</span> <span class="o">=</span> <span class="n">dist2num</span><span class="p">[</span><span class="n">_x</span><span class="p">]</span> <span class="o">&amp;</span> <span class="n">PYE_DISTREL</span>
                            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                                <span class="k">if</span> <span class="ow">not</span> <span class="nb">type</span><span class="p">(</span><span class="n">_x</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">int</span><span class="p">:</span>  
                                    <span class="c1"># cannot be mapped</span>
                                    <span class="k">raise</span> <span class="n">PythonIDsError</span><span class="p">(</span><span class="s2">&quot;&#39;distrel&#39; not registered: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">_x</span><span class="p">))</span>
                                <span class="c1"># any release version is supported</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">distrel</span> <span class="o">=</span> <span class="n">_x</span> <span class="o">&amp;</span> <span class="n">PYE_DISTREL</span>
                        
                        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                            <span class="k">pass</span>
                    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                        <span class="k">pass</span>
                <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                    <span class="k">pass</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">pass</span>

            
        <span class="c1"># keyword arguments dominate</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">category</span> <span class="o">=</span> <span class="n">kargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">disttype</span> <span class="o">=</span> <span class="n">kargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;disttype&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">disttype</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dist</span> <span class="o">=</span> <span class="n">kargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;dist&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dist</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">distrel</span> <span class="o">=</span> <span class="n">kargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;distrel&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">distrel</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="PythonDist.get_distribution"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.get_distribution">[docs]</a>    <span class="k">def</span> <span class="nf">get_distribution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rtype</span><span class="o">=</span><span class="n">PyDist</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;   Reads out the distribution data into a tuple of selected type.</span>
<span class="sd">   </span>
<span class="sd">        Args:</span>
<span class="sd">            rtype:</span>
<span class="sd">                The return type:</span>
<span class="sd">              </span>
<span class="sd">                    .. parsed-literal::</span>
<span class="sd">                    </span>
<span class="sd">                        rtype := (</span>
<span class="sd">                             :ref:`PyDist &lt;SPEC_PyDist_Class&gt;`</span>
<span class="sd">                           | :ref:`PyDistSegments &lt;SPEC_PyDistSegments&gt;`</span>
<span class="sd">                           | :ref:`PyDistStr &lt;SPEC_PyDistStr&gt;`</span>
<span class="sd">                           | tuple</span>
<span class="sd">                           | &lt;user-defined-tuple-type&gt;</span>
<span class="sd">                        )</span>
<span class="sd">                    </span>
<span class="sd">                default := :ref:`PyDist &lt;SPEC_PyDist_Class&gt;`</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            Returns a tuple of the provided attributes: ::</span>
<span class="sd">        </span>
<span class="sd">                (</span>
<span class="sd">                   category,</span>
<span class="sd">                   disttype,</span>
<span class="sd">                   dist,</span>
<span class="sd">                   distrel</span>
<span class="sd">                )</span>
<span class="sd">        </span>
<span class="sd">        Raises:</span>
<span class="sd">            pass-through</span>

<span class="sd">    &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">rtype</span> <span class="o">==</span> <span class="n">PyDist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">PyDist</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">disttype</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dist</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">distrel</span><span class="p">,</span>
            <span class="p">)</span>
            
        <span class="k">elif</span> <span class="n">rtype</span> <span class="o">==</span> <span class="n">PyDistStr</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">PyDistStr</span><span class="p">(</span>
                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="p">),</span>
                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">disttype</span><span class="p">),</span>
                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dist</span><span class="p">),</span>
                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distrel</span><span class="p">),</span>
            <span class="p">)</span>
            
        <span class="k">elif</span> <span class="n">rtype</span> <span class="o">==</span> <span class="n">PyDistSegments</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">decode_pydist_32bit_to_tuple_segments</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">())</span>
        
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># expect a pure tuple type</span>
            <span class="k">return</span> <span class="n">rtype</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">disttype</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dist</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">distrel</span><span class="p">,</span>
            <span class="p">)</span></div>

        
<div class="viewcode-block" id="PythonDist.scan"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.scan">[docs]</a>    <span class="k">def</span> <span class="nf">scan</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">forceall</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Scans local platform for attributes specifying the platform.</span>
<span class="sd">    Supports: ::</span>
<span class="sd">       </span>
<span class="sd">        CPython, iPython, IronPython, Jython, PyPy</span>
<span class="sd">    </span>
<span class="sd">    Args:</span>
<span class="sd">        forceall:</span>
<span class="sd">            Controls the scan content:  ::</span>
<span class="sd">       </span>
<span class="sd">                forceall := (</span>
<span class="sd">                     True    # scan distribution and compiler</span>
<span class="sd">                   | False   # scan distribution only</span>
<span class="sd">                )</span>
<span class="sd">    </span>
<span class="sd">            default := None</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">        Superposes the following mandatory attributes by the scanned values:</span>
<span class="sd">       </span>
<span class="sd">        * The tuple of Python identifiers: ::</span>
<span class="sd">       </span>
<span class="sd">            category</span>
<span class="sd">            disttype</span>
<span class="sd">            dist</span>
<span class="sd">            distrel</span>
<span class="sd">    </span>
<span class="sd">        * Additional shortcuts prepared for direct processing: :: </span>
<span class="sd">       </span>
<span class="sd">            hexrelease</span>
<span class="sd">       </span>
<span class="sd">        * In addition the optional, but strongly supported attributes.</span>
<span class="sd">          These are scanned only in case of *forceall==True*. ::</span>
<span class="sd">       </span>
<span class="sd">            c_libc_version</span>
<span class="sd">            c_compiler</span>
<span class="sd">            c_compiler_version</span>
<span class="sd">    </span>
<span class="sd">          Returns the value of *hexrelease*.</span>
<span class="sd">       </span>
<span class="sd">    Raises:</span>
<span class="sd">    </span>
<span class="sd">        PythonDistError        </span>

<span class="sd">    &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">forceall</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">_forceall</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">forceall</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_forceall</span> <span class="o">=</span> <span class="n">forceall</span>

        <span class="c1">#</span>
        <span class="c1"># syntax category</span>
        <span class="c1">#</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">category</span> <span class="o">=</span> <span class="n">PYE_PYTHON</span>  <span class="c1"># the only and one supported, contain it for pattern consistance</span>

        <span class="c1">#</span>
        <span class="c1"># reference syntax</span>
        <span class="c1">#</span>
        <span class="c1"># _syntaxrel = platform.python_version()</span>
        <span class="n">_syntaxrel_tuple</span> <span class="o">=</span> <span class="n">platform</span><span class="o">.</span><span class="n">python_version_tuple</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">disttype</span> <span class="o">=</span> <span class="n">_encode_disttype_bitmask</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">_syntaxrel_tuple</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">_syntaxrel_tuple</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>

        <span class="c1">#</span>
        <span class="c1"># distribution</span>
        <span class="c1">#</span>
        <span class="n">_d</span> <span class="o">=</span> <span class="n">platform</span><span class="o">.</span><span class="n">python_implementation</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">_dist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dist</span> <span class="o">=</span> <span class="n">dist2num</span><span class="p">[</span><span class="n">_d</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">PythonDistError</span><span class="p">(</span><span class="s2">&quot;Distribution is not supported: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">_d</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">_dist</span> <span class="ow">in</span> <span class="p">(</span><span class="n">PYE_CPYTHON</span><span class="p">,</span> <span class="n">PYE_IPYTHON</span><span class="p">,):</span>  <span class="c1"># does not distinguish CPython and IPython - which is a interactive-addon</span>

            <span class="c1"># see docu: [ARTICLESTACKOFLOWIPYTHON]_</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">__IPYTHON__</span>  <span class="c1"># @UndefinedVariable</span>
                <span class="c1"># running under control of IPython addons</span>
                
            <span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
                <span class="c1"># the standard interpreter and the reference, thus syntaxrel == distrel</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">distrel</span> <span class="o">=</span> <span class="n">_encode_distrel_bitmask</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">_syntaxrel_tuple</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]))</span>
                
                <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                    <span class="c1"># handle pre-releases, e.g. &#39;3.8.0a5&#39; - these are basically not supported...</span>
                    <span class="c1"># these are treated with their version numbers only by dropping any alpha, beta, etc. appendix</span>
                    <span class="c1"># though the pythondist package targets production system components only</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">distrel</span> <span class="o">=</span> <span class="n">_encode_distrel_bitmask</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span>
                        <span class="n">_syntaxrel_tuple</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                        <span class="n">_syntaxrel_tuple</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> 
                        <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^([0-9]).*&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;\1&#39;</span><span class="p">,</span> <span class="n">_syntaxrel_tuple</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
                        <span class="p">)))</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">_dist</span> <span class="o">=</span> <span class="n">PYE_IPYTHON</span>
                <span class="c1"># provided by the core module __version__</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">distrel</span> <span class="o">=</span> <span class="n">_encode_distrel_bitmask</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="s1">&#39;IPython&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">__version__</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)))</span>

        <span class="k">elif</span> <span class="n">_dist</span> <span class="o">==</span> <span class="n">PYE_PYPY</span><span class="p">:</span>
            <span class="c1">#</span>
            <span class="c1"># contained in the compile string</span>
            <span class="c1">#</span>
            <span class="c1"># e.g. &#39;2.7.13 (c925e73810367cd960a32592dd7f728f436c125c, Dec 14 2017, 12:47:11)\n[PyPy 5.8.0 with GCC 7.2.1 20170915 (Red Hat 7.2.1-2)]&#39;</span>
            <span class="c1">#       ^^^^^^                                                                          ^^^^^      ^^^ ^^^^^</span>
            <span class="c1">#</span>
            <span class="n">_c</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">version</span>
            <span class="n">_cprep</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span>
                <span class="sa">r</span><span class="s1">&#39;^([0-9.]+).*\n.*PyPy *([0-9.]+) [^ ]+ ([^ ]+) +([0-9.]+).*$&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;\1@@\2@@\3@@\4&#39;</span><span class="p">,</span> 
                <span class="n">_c</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>  <span class="c1"># @UndefinedVariable</span>
            <span class="n">_python_version</span><span class="p">,</span> <span class="n">_distrel</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_compiler</span><span class="p">,</span> <span class="n">_c_compiler_version</span> <span class="o">=</span> <span class="n">_cprep</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;@@&#39;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">distrel</span> <span class="o">=</span> <span class="n">_encode_distrel_str_bitmask</span><span class="p">(</span><span class="n">_distrel</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">_forceall</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">c_compiler_version_tuple</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">_c_compiler_version</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">))</span> 
                <span class="bp">self</span><span class="o">.</span><span class="n">c_libc_version</span> <span class="o">=</span> <span class="n">platform</span><span class="o">.</span><span class="n">libc_ver</span><span class="p">()</span>  <span class="c1"># default is current instance itself</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">compiler</span> <span class="o">=</span> <span class="s2">&quot;Python&quot;</span> 
                <span class="c1"># self.compiler_version = platform.python_version()</span>
                <span class="c1"># self.compiler_version = _python_version</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">compiler_version_tuple</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span>
                <span class="k">pass</span>

<span class="c1">#             else:</span>
<span class="c1">#                 self.compiler = &quot;Python&quot; </span>
<span class="c1">#                 self.compiler_version = sys.version_info[:3]</span>

        <span class="k">elif</span> <span class="n">_dist</span> <span class="o">==</span> <span class="n">PYE_IRONPYTHON</span><span class="p">:</span>
            <span class="c1">#</span>
            <span class="c1"># &gt;&gt;&gt; platform.python_compiler()</span>
            <span class="c1"># &#39;.NET 4.0.30319.42000 (64-bit)&#39;</span>
            <span class="c1">#</span>
            <span class="c1"># The sys.version seems to be compatible to the python-syntax, but</span>
            <span class="c1"># in sync only with major and minor version.</span>
            <span class="c1"># The micro version seems to be independent from Python-Syntax/CPython.</span>
            <span class="c1"># Current version for simplicity just takes the whole version literally as the syntax version.</span>
            <span class="c1">#</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">distrel</span> <span class="o">=</span> <span class="n">_encode_distrel_bitmask</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">_syntaxrel_tuple</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]))</span>
        
        <span class="k">elif</span> <span class="n">_dist</span> <span class="o">==</span> <span class="n">PYE_JYTHON</span><span class="p">:</span>
            <span class="c1">#</span>
            <span class="c1"># the distrel seems to be the same as sys.version</span>
            <span class="c1"># and platform.python_version_tuple / platform.python_version </span>
            <span class="c1">#</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">distrel</span> <span class="o">=</span> <span class="n">_encode_distrel_bitmask</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">_syntaxrel_tuple</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]))</span>

            <span class="c1"># the compiler is defined by the jre</span>
            <span class="c1"># libc is empty</span>
            <span class="c1">#</span>
            <span class="c1"># &gt;&gt;&gt; platform.python_compiler()  -&gt; variable JIT</span>
            <span class="c1"># &#39;java1.7.0_65 ( ==linux2 for targets )&#39;</span>
            <span class="k">if</span> <span class="n">_forceall</span><span class="p">:</span>
                <span class="c1">#</span>
                <span class="c1"># extra value for the build release, due to it&#39;s importance for java-rte</span>
                <span class="c1">#</span>
                <span class="n">_c</span> <span class="o">=</span> <span class="n">platform</span><span class="o">.</span><span class="n">python_compiler</span><span class="p">()</span>  <span class="c1"># e.g. &quot;str: java1.8.0_181&quot;</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">c_compiler</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_compiler_version</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^([^0-9]*)([0-9.]*)_([0-9]*).*$&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;\1:\2.\3&#39;</span><span class="p">,</span> <span class="n">_c</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">c_compiler_version_tuple</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_compiler_version</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">c_libc_version</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">compiler</span> <span class="o">=</span> <span class="s2">&quot;Java&quot;</span> 
                <span class="c1"># self.compiler_version = platform.python_compiler()[4:] </span>
                <span class="c1"># self.compiler_version_tuple = tuple(int(i) for i in self.c_compiler_version.split(&#39;.&#39;))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">compiler_version_tuple</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_compiler_version_tuple</span>

        <span class="k">if</span> <span class="n">_forceall</span> <span class="ow">and</span> <span class="n">_dist</span> <span class="ow">in</span> <span class="p">(</span><span class="n">PYE_CPYTHON</span><span class="p">,</span> <span class="n">PYE_CYTHON</span><span class="p">,</span> <span class="n">PYE_IPYTHON</span><span class="p">,</span> <span class="n">PYE_IRONPYTHON</span><span class="p">):</span>
            <span class="n">_c</span> <span class="o">=</span> <span class="n">platform</span><span class="o">.</span><span class="n">python_compiler</span><span class="p">()</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># e.g. &#39;GCC 7.3.1 20180303 (Red Hat 7.3.1-5)&#39;</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">c_compiler</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_compiler_version</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^([^ ]*)[^0-9]*([0-9.]*) .*$&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;\1:\2&#39;</span><span class="p">,</span> <span class="n">_c</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">c_compiler_version_tuple</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_compiler_version</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">))</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="c1"># SunOS</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">c_compiler</span> <span class="o">=</span> <span class="s1">&#39;C&#39;</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">c_compiler_version</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span> 
                <span class="bp">self</span><span class="o">.</span><span class="n">c_compiler_version_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,)</span>
                
            <span class="bp">self</span><span class="o">.</span><span class="n">c_libc_version</span> <span class="o">=</span> <span class="n">platform</span><span class="o">.</span><span class="n">libc_ver</span><span class="p">()</span>  <span class="c1"># default is current instance itself</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">compiler</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_compiler</span> 
            <span class="bp">self</span><span class="o">.</span><span class="n">compiler_version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_compiler_version</span> 

        <span class="c1"># requires all of them to be set</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">category</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">disttype</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">dist</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">distrel</span>
        
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span></div>

<div class="viewcode-block" id="PythonDist.__str__"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.__str__">[docs]</a>    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s1">&#39;&#39;</span>
        <span class="n">res</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">res</span> <span class="o">+=</span> <span class="s2">&quot;category           = </span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">num2name</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="p">])</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="n">res</span> <span class="o">+=</span> <span class="s2">&quot;category           = </span><span class="se">\n</span><span class="s2">&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">res</span> <span class="o">+=</span> <span class="s2">&quot;disttype           = </span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">num2name</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">disttype</span><span class="p">])</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="n">res</span> <span class="o">+=</span> <span class="s2">&quot;disttype           = </span><span class="se">\n</span><span class="s2">&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">res</span> <span class="o">+=</span> <span class="s2">&quot;dist               = </span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">num2name</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">dist</span><span class="p">])</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
            <span class="n">res</span> <span class="o">+=</span> <span class="s2">&quot;dist               = </span><span class="se">\n</span><span class="s2">&quot;</span>

        <span class="n">res</span> <span class="o">+=</span> <span class="s2">&quot;distrel            = </span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">decode_pydist_32bit_to_tuple_str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distrel</span><span class="p">)</span><span class="o">.</span><span class="n">distrel</span><span class="p">)</span>
        <span class="n">res</span> <span class="o">+=</span> <span class="s2">&quot;hexrelease         = 0x</span><span class="si">%08x</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">forceall</span><span class="p">:</span>
            <span class="n">res</span> <span class="o">+=</span> <span class="s2">&quot;compiler           = </span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">compiler</span><span class="p">)</span>
            <span class="n">res</span> <span class="o">+=</span> <span class="s2">&quot;compiler_version   = </span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="s1">&#39;.&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">compiler_version_tuple</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">PYDIST</span> <span class="o">&amp;</span> <span class="n">PYE_DIST</span> <span class="o">==</span> <span class="n">PYE_PYPY</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">+=</span> <span class="s2">&quot;c_compiler         = </span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">c_compiler</span><span class="p">)</span>
                <span class="n">res</span> <span class="o">+=</span> <span class="s2">&quot;c_compiler_version = </span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="s1">&#39;.&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_compiler_version_tuple</span><span class="p">)</span>
                
        <span class="k">return</span> <span class="n">res</span></div>

<div class="viewcode-block" id="PythonDist.__getattr__"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.__getattr__">[docs]</a>    <span class="k">def</span> <span class="nf">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gets the selected attribute.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> </div>
        
<div class="viewcode-block" id="PythonDist.__setattr__"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.__setattr__">[docs]</a>    <span class="k">def</span> <span class="nf">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the selected attribute and synchronizes dependent.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">if</span> <span class="n">name</span> <span class="o">!=</span> <span class="s1">&#39;hexrelease&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;hexrelease&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span></div>

<div class="viewcode-block" id="PythonDist.__getitem__"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.__getitem__">[docs]</a>    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="s2">&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> </div>

<div class="viewcode-block" id="PythonDist.__int__"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.__int__">[docs]</a>    <span class="k">def</span> <span class="nf">__int__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;   The cast operator into the bitmask which is the *hexrelease*.</span>
<span class="sd">        The cache is used without new calculation if *self.hexrelease*</span>
<span class="sd">        is present, else created by calling  *get_hexrelease*.</span>
<span class="sd">        For the forced calculation only use *get_hexrelease*. ::</span>
<span class="sd">           </span>
<span class="sd">            int(self) == self-bitmask</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">            none</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            The resulting bitmask of self as numeric value.</span>
<span class="sd">        </span>
<span class="sd">        Raises:</span>
<span class="sd">        </span>
<span class="sd">            pass-through</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span></div>

<div class="viewcode-block" id="PythonDist.__iter__"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.__iter__">[docs]</a>    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Iterates the non-private attribute names.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">k</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;_&#39;</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">k</span> </div>
    
<div class="viewcode-block" id="PythonDist.__setitem__"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.__setitem__">[docs]</a>    <span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Sets the selected attribute and synchronizes dependent.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">if</span> <span class="n">key</span> <span class="o">!=</span> <span class="s1">&#39;hexrelease&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;hexrelease&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span></div>

<div class="viewcode-block" id="PythonDist.items"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.items">[docs]</a>    <span class="k">def</span> <span class="nf">items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gets the list of key-value tupels.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">forceall</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">ix</span> <span class="ow">in</span> <span class="p">(</span>
                <span class="s1">&#39;category&#39;</span><span class="p">,</span>
                <span class="s1">&#39;disttype&#39;</span><span class="p">,</span>
                <span class="s1">&#39;dist&#39;</span><span class="p">,</span>
                <span class="s1">&#39;distrel&#39;</span><span class="p">,</span>
                <span class="s1">&#39;hexrelease&#39;</span><span class="p">,</span>
                <span class="s1">&#39;compiler&#39;</span><span class="p">,</span>
                <span class="s1">&#39;compiler_version&#39;</span><span class="p">,</span>
                <span class="s1">&#39;c_libc_version&#39;</span><span class="p">,</span>
                <span class="s1">&#39;c_compiler&#39;</span><span class="p">,</span>
                <span class="s1">&#39;c_compiler_version&#39;</span><span class="p">,</span>
                <span class="p">):</span>
                <span class="k">yield</span> <span class="p">(</span><span class="n">ix</span><span class="p">,</span> <span class="bp">self</span><span class="p">[</span><span class="n">ix</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">ix</span> <span class="ow">in</span> <span class="p">(</span>
                <span class="s1">&#39;category&#39;</span><span class="p">,</span>
                <span class="s1">&#39;disttype&#39;</span><span class="p">,</span>
                <span class="s1">&#39;dist&#39;</span><span class="p">,</span>
                <span class="s1">&#39;distrel&#39;</span><span class="p">,</span>
                <span class="s1">&#39;hexrelease&#39;</span><span class="p">,</span>
                <span class="p">):</span>
                <span class="k">yield</span> <span class="p">(</span><span class="n">ix</span><span class="p">,</span> <span class="bp">self</span><span class="p">[</span><span class="n">ix</span><span class="p">])</span></div>

<div class="viewcode-block" id="PythonDist.keys"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.keys">[docs]</a>    <span class="k">def</span> <span class="nf">keys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gets the list of attribute names.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">forceall</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">ix</span> <span class="ow">in</span> <span class="p">(</span>
                <span class="s1">&#39;category&#39;</span><span class="p">,</span>
                <span class="s1">&#39;disttype&#39;</span><span class="p">,</span>
                <span class="s1">&#39;dist&#39;</span><span class="p">,</span>
                <span class="s1">&#39;distrel&#39;</span><span class="p">,</span>
                <span class="s1">&#39;hexrelease&#39;</span><span class="p">,</span>
                <span class="s1">&#39;compiler&#39;</span><span class="p">,</span>
                <span class="s1">&#39;compiler_version&#39;</span><span class="p">,</span>
                <span class="s1">&#39;c_libc_version&#39;</span><span class="p">,</span>
                <span class="s1">&#39;c_compiler&#39;</span><span class="p">,</span>
                <span class="s1">&#39;c_compiler_version&#39;</span><span class="p">,</span>
                <span class="p">):</span>
                <span class="k">yield</span> <span class="n">ix</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">ix</span> <span class="ow">in</span> <span class="p">(</span>
                <span class="s1">&#39;category&#39;</span><span class="p">,</span>
                <span class="s1">&#39;disttype&#39;</span><span class="p">,</span>
                <span class="s1">&#39;dist&#39;</span><span class="p">,</span>
                <span class="s1">&#39;distrel&#39;</span><span class="p">,</span>
                <span class="s1">&#39;hexrelease&#39;</span><span class="p">,</span>
                <span class="p">):</span>
                <span class="k">yield</span> <span class="n">ix</span></div>

<div class="viewcode-block" id="PythonDist.values"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.values">[docs]</a>    <span class="k">def</span> <span class="nf">values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gets the list of attribute values.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">forceall</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">ix</span> <span class="ow">in</span> <span class="p">(</span>
                <span class="s1">&#39;category&#39;</span><span class="p">,</span>
                <span class="s1">&#39;disttype&#39;</span><span class="p">,</span>
                <span class="s1">&#39;dist&#39;</span><span class="p">,</span>
                <span class="s1">&#39;distrel&#39;</span><span class="p">,</span>
                <span class="s1">&#39;hexrelease&#39;</span><span class="p">,</span>
                <span class="s1">&#39;compiler&#39;</span><span class="p">,</span>
                <span class="s1">&#39;compiler_version&#39;</span><span class="p">,</span>
                <span class="s1">&#39;c_libc_version&#39;</span><span class="p">,</span>
                <span class="s1">&#39;c_compiler&#39;</span><span class="p">,</span>
                <span class="s1">&#39;c_compiler_version&#39;</span><span class="p">,</span>
                <span class="p">):</span>
                <span class="k">yield</span> <span class="bp">self</span><span class="p">[</span><span class="n">ix</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">ix</span> <span class="ow">in</span> <span class="p">(</span>
                <span class="s1">&#39;category&#39;</span><span class="p">,</span>
                <span class="s1">&#39;disttype&#39;</span><span class="p">,</span>
                <span class="s1">&#39;dist&#39;</span><span class="p">,</span>
                <span class="s1">&#39;distrel&#39;</span><span class="p">,</span>
                <span class="s1">&#39;hexrelease&#39;</span><span class="p">,</span>
                <span class="p">):</span>
                <span class="k">yield</span> <span class="bp">self</span><span class="p">[</span><span class="n">ix</span><span class="p">]</span></div>

<div class="viewcode-block" id="PythonDist.__eq__"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.__eq__">[docs]</a>    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span> 
        <span class="sd">&quot;&quot;&quot;   Supports standard comparison with the types</span>
<span class="sd">        *PythonDist*, and *dict*. In case of</span>
<span class="sd">        a *dict* the attributes are used as keys literally.</span>
<span class="sd">        </span>
<span class="sd">        Synchronizes the hex-value of the release, and compares it with</span>
<span class="sd">        the resulting value from *other*.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">            other:</span>
<span class="sd">                The instannce to be compared. ::</span>
<span class="sd">               </span>
<span class="sd">                    other := (</span>
<span class="sd">                         &lt;int-16bit-mask&gt;                   # compare with hexversion </span>
<span class="sd">                       | &lt;dictionary&gt;)                      # compare keys only</span>
<span class="sd">                       | &lt;tuple&gt;)                           # compare key-index only</span>
<span class="sd">                       | &lt;instance-of-PythonDist&gt;           # compare both hexversions</span>
<span class="sd">                    )</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            True or False.</span>
<span class="sd">        </span>
<span class="sd">        Raises:</span>
<span class="sd">            KeyError</span>
<span class="sd">           </span>
<span class="sd">            AttributeError</span>
<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="n">res</span> <span class="o">=</span> <span class="kc">False</span>
        
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">int</span><span class="p">:</span>
            <span class="c1"># some special type comparison</span>
            <span class="c1"># hex id of dist and/or distrel</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">==</span> <span class="n">other</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">PythonDist</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="c1"># compare selected keys only</span>
            <span class="n">res</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">other</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;osrel_sp&quot;</span><span class="p">,</span> <span class="s2">&quot;wProductType&quot;</span><span class="p">,</span> <span class="s2">&quot;wSuiteMask&quot;</span><span class="p">):</span>
                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">disttype</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;nt&#39;</span><span class="p">,</span> <span class="s1">&#39;cygwin&#39;</span><span class="p">):</span>
                            <span class="n">res</span> <span class="o">&amp;=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">==</span> <span class="n">v</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">res</span> <span class="o">=</span> <span class="kc">False</span> 
                    <span class="k">elif</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;distrel_version&quot;</span><span class="p">,</span> <span class="s2">&quot;osrel_version&quot;</span><span class="p">,):</span>
                        <span class="n">res</span> <span class="o">&amp;=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;distrel_version&#39;</span><span class="p">][:</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">)]</span> <span class="o">==</span> <span class="n">v</span>
                    <span class="k">elif</span> <span class="n">k</span> <span class="o">==</span> <span class="s2">&quot;distrel&quot;</span><span class="p">:</span>
                        <span class="n">res</span> <span class="o">&amp;=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;distrel&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">res</span> <span class="o">&amp;=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">==</span> <span class="n">v</span> 
                <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                    <span class="n">res</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="c1"># compare selected keys only</span>

            <span class="n">res</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">osrel_sp</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">_myargs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">_myargs</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">&amp;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">category</span> <span class="o">==</span> <span class="n">_myargs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">_myargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">_myargs</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">&amp;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">disttype</span> <span class="o">==</span> <span class="n">_myargs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">_myargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">_myargs</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">&amp;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dist</span> <span class="o">==</span> <span class="n">_myargs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">_myargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">_myargs</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">&amp;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distrel</span> <span class="o">==</span> <span class="n">_myargs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">_myargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># jython - 32bit is a long(unsigned int)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">long</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">==</span> <span class="n">other</span><span class="p">:</span>  <span class="c1"># @UndefinedVariable</span>
                <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
            <span class="k">pass</span>
            
        <span class="k">return</span> <span class="n">res</span></div>

<div class="viewcode-block" id="PythonDist.__ne__"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.__ne__">[docs]</a>    <span class="k">def</span> <span class="nf">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="s1">&#39;&#39;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="PythonDist.__ge__"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.__ge__">[docs]</a>    <span class="k">def</span> <span class="nf">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The *&gt;=* operator for the resulting *hexversion*: ::</span>
<span class="sd">             </span>
<span class="sd">            self-bitmask &gt;= other-bitmask</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">            other:</span>
<span class="sd">                The bitmask for operations. ::</span>
<span class="sd">        </span>
<span class="sd">                    other := (</span>
<span class="sd">                         &lt;int-16bit-mask&gt;               # compare with hexversion </span>
<span class="sd">                       | &lt;dictionary&gt;)                  # compare keys only</span>
<span class="sd">                       | &lt;tuple&gt;)                       # compare key-index only</span>
<span class="sd">                       | &lt;instance-of-PythonDist&gt;       # compare both hexversions</span>
<span class="sd">                    )</span>
<span class="sd">           </span>
<span class="sd">        Returns:</span>
<span class="sd">            True or False.</span>
<span class="sd">        </span>
<span class="sd">        Raises:</span>
<span class="sd">        </span>
<span class="sd">            pass-through</span>

<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&gt;=</span> <span class="n">other</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">PythonDist</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&gt;=</span> <span class="n">other</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="c1"># use other as init parameters - simply trust or pass exception</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&gt;=</span> <span class="n">PythonDist</span><span class="p">(</span><span class="o">**</span><span class="n">other</span><span class="p">)</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&gt;=</span> <span class="n">PythonDist</span><span class="p">(</span><span class="o">*</span><span class="n">other</span><span class="p">)</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># jython - 32bit is a long(unsigned int)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">long</span><span class="p">):</span>  <span class="c1"># @UndefinedVariable</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&gt;=</span> <span class="n">other</span>
        <span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">raise</span> <span class="n">PythonIDsError</span><span class="p">(</span><span class="s2">&quot;type not supported: other = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">other</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="PythonDist.__le__"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.__le__">[docs]</a>    <span class="k">def</span> <span class="nf">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The *&lt;=* operator for the resulting *hexversion*: ::</span>
<span class="sd">        </span>
<span class="sd">            self-bitmask &lt;= other-bitmask</span>
<span class="sd">   </span>
<span class="sd">        Args:</span>
<span class="sd">            other:</span>
<span class="sd">                The bitmask for operations. ::</span>
<span class="sd">        </span>
<span class="sd">                    other := (</span>
<span class="sd">                         &lt;int-16bit-mask&gt;               # compare with hexversion </span>
<span class="sd">                       | &lt;dictionary&gt;)                  # compare keys only</span>
<span class="sd">                       | &lt;tuple&gt;)                       # compare key-index only</span>
<span class="sd">                       | &lt;instance-of-PythonDist&gt;       # compare both hexversions</span>
<span class="sd">                    )</span>
<span class="sd">           </span>
<span class="sd">        Returns:</span>
<span class="sd">            The resulting bitmask as numeric value.</span>
<span class="sd">        </span>
<span class="sd">        Raises:</span>
<span class="sd">        </span>
<span class="sd">            pass-through</span>
<span class="sd">   </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&lt;=</span> <span class="n">other</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">PythonDist</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&lt;=</span> <span class="n">other</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="c1"># use other as init parameters - simply trust or pass exception</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&lt;=</span> <span class="n">PythonDist</span><span class="p">(</span><span class="o">**</span><span class="n">other</span><span class="p">)</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&lt;=</span> <span class="n">PythonDist</span><span class="p">(</span><span class="o">*</span><span class="n">other</span><span class="p">)</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># jython - 32bit is a long(unsigned int)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">long</span><span class="p">):</span>  <span class="c1"># @UndefinedVariable</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&lt;=</span> <span class="n">other</span>
        <span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">raise</span> <span class="n">PythonIDsError</span><span class="p">(</span><span class="s2">&quot;type not supported: other = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">other</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="PythonDist.__gt__"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.__gt__">[docs]</a>    <span class="k">def</span> <span class="nf">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The *&gt;* operator for the resulting *hexversion*: ::</span>
<span class="sd">        </span>
<span class="sd">            self-bitmask &gt; other-bitmask</span>
<span class="sd">   </span>
<span class="sd">        Args:</span>
<span class="sd">            other:</span>
<span class="sd">                The bitmask for operations. ::</span>

<span class="sd">                    other := (</span>
<span class="sd">                         &lt;int-16bit-mask&gt;               # compare with hexversion </span>
<span class="sd">                       | &lt;dictionary&gt;)                  # compare keys only</span>
<span class="sd">                       | &lt;tuple&gt;)                       # compare key-index only</span>
<span class="sd">                       | &lt;instance-of-PythonDist&gt;       # compare both hexversions</span>
<span class="sd">                    )</span>
<span class="sd">           </span>
<span class="sd">        Returns:</span>
<span class="sd">            True or False.</span>
<span class="sd">        </span>
<span class="sd">        Raises:</span>
<span class="sd">        </span>
<span class="sd">            pass-through</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&gt;</span> <span class="n">other</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">PythonDist</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="c1"># use other as init parameters - simply trust or pass exception</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&gt;</span> <span class="n">PythonDist</span><span class="p">(</span><span class="o">**</span><span class="n">other</span><span class="p">)</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&gt;</span> <span class="n">PythonDist</span><span class="p">(</span><span class="o">*</span><span class="n">other</span><span class="p">)</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># jython - 32bit is a long(unsigned int)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">long</span><span class="p">):</span>  <span class="c1"># @UndefinedVariable</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&gt;</span> <span class="n">other</span>
        <span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">raise</span> <span class="n">PythonIDsError</span><span class="p">(</span><span class="s2">&quot;type not supported: other = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">other</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="PythonDist.__lt__"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.__lt__">[docs]</a>    <span class="k">def</span> <span class="nf">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The *&lt;* operator for the resulting *hexversion*: ::</span>
<span class="sd">        </span>
<span class="sd">            self-bitmask &lt; other-bitmask</span>
<span class="sd">   </span>
<span class="sd">        Args:</span>
<span class="sd">            other:</span>
<span class="sd">                The bitmask for operations. ::</span>

<span class="sd">                    other := (</span>
<span class="sd">                         &lt;int-16bit-mask&gt;               # compare with hexversion </span>
<span class="sd">                       | &lt;dictionary&gt;)                  # compare keys only</span>
<span class="sd">                       | &lt;tuple&gt;)                       # compare key-index only</span>
<span class="sd">                       | &lt;instance-of-PythonDist&gt;       # compare both hexversions</span>
<span class="sd">                    )</span>
<span class="sd">           </span>
<span class="sd">        Returns:</span>
<span class="sd">            True or False.</span>
<span class="sd">        </span>
<span class="sd">        Raises:</span>
<span class="sd">        </span>
<span class="sd">            pass-through</span>
<span class="sd">   </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&lt;</span> <span class="n">other</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">PythonDist</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="c1"># use other as init parameters - simply trust or pass exception</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&lt;</span> <span class="n">PythonDist</span><span class="p">(</span><span class="o">**</span><span class="n">other</span><span class="p">)</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&lt;</span> <span class="n">PythonDist</span><span class="p">(</span><span class="o">*</span><span class="n">other</span><span class="p">)</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># jython - 32bit is a long(unsigned int)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">long</span><span class="p">):</span>  <span class="c1"># @UndefinedVariable</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&lt;</span> <span class="n">other</span>
        <span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">raise</span> <span class="n">PythonIDsError</span><span class="p">(</span><span class="s2">&quot;type not supported: other = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">other</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="PythonDist.__repr__"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.__repr__">[docs]</a>    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The standard representation. The contained attributes are represented as </span>
<span class="sd">        numeric 32bit-enums and values, for example: ::</span>
<span class="sd">        </span>
<span class="sd">            res = {&quot;category&quot;: 2147483648, &quot;disttype&quot;: 0, &quot;dist&quot;: 0, &quot;distrel&quot;: 595591168, &quot;hexrelease&quot;: 2743074816}</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">res</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s1">&#39;{&quot;category&quot;: 0x</span><span class="si">%08x</span><span class="s1">, &quot;disttype&quot;: 0x</span><span class="si">%08x</span><span class="s1">, &quot;dist&quot;: 0x</span><span class="si">%08x</span><span class="s1">, &#39;</span>
            <span class="s1">&#39;&quot;distrel&quot;: 0x</span><span class="si">%08x</span><span class="s1">, &quot;hexrelease&quot;: 0x</span><span class="si">%08x</span><span class="s1">&#39;</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">disttype</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">dist</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">distrel</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">forceall</span><span class="p">:</span>
            <span class="n">res</span> <span class="o">+=</span> <span class="s1">&#39;, &quot;compiler&quot;: &quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">compiler</span><span class="p">)</span>
            <span class="n">res</span> <span class="o">+=</span> <span class="s1">&#39;, &quot;compiler_version&quot;: &quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">compiler_version</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">PYDIST</span> <span class="o">&amp;</span> <span class="n">PYE_DIST</span> <span class="o">==</span> <span class="n">PYE_PYPY</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">+=</span> <span class="s1">&#39;, &quot;c_compiler&quot;: &quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">c_compiler</span><span class="p">)</span>
                <span class="n">res</span> <span class="o">+=</span> <span class="s1">&#39;, &quot;c_compiler_version&quot;: &quot;</span><span class="si">%s</span><span class="s1">&quot;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">c_compiler_version</span><span class="p">)</span>

        <span class="n">res</span> <span class="o">+=</span> <span class="s2">&quot;}&quot;</span>
 
        <span class="k">return</span> <span class="n">res</span></div>
 
<div class="viewcode-block" id="PythonDist.__and__"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.__and__">[docs]</a>    <span class="k">def</span> <span class="nf">__and__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The *&amp;* operator for the resulting *hexversion*: ::</span>

<span class="sd">            self-bitmask &amp; other-bitmask</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">            other:</span>
<span class="sd">                The bitmask for operations. ::</span>

<span class="sd">                   other := (</span>
<span class="sd">                        &lt;int-16bit-mask&gt;                   # compare with hexversion </span>
<span class="sd">                      | &lt;dictionary&gt;)                      # compare keys only</span>
<span class="sd">                      | &lt;tuple&gt;)                           # compare key-index only</span>
<span class="sd">                      | &lt;instance-of-PythonDist&gt;     # compare both hexversions</span>
<span class="sd">                   )</span>
<span class="sd">           </span>
<span class="sd">        Returns:</span>
<span class="sd">            The resulting bitmask as numeric value.</span>
<span class="sd">        </span>
<span class="sd">        Raises:</span>
<span class="sd">        </span>
<span class="sd">            pass-through</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&amp;</span> <span class="n">other</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">PythonDist</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&amp;</span> <span class="n">other</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="c1"># use other as init parameters - simply trust or pass exception</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&amp;</span> <span class="n">PythonDist</span><span class="p">(</span><span class="o">**</span><span class="n">other</span><span class="p">)</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&amp;</span> <span class="n">PythonDist</span><span class="p">(</span><span class="o">*</span><span class="n">other</span><span class="p">)</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># jython - 32bit is a long(unsigned int)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">long</span><span class="p">):</span>  <span class="c1"># @UndefinedVariable</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&amp;</span> <span class="n">other</span>
        <span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">raise</span> <span class="n">PythonIDsError</span><span class="p">(</span><span class="s2">&quot;type not supported: other = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">other</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="PythonDist.__iand__"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.__iand__">[docs]</a>    <span class="k">def</span> <span class="nf">__iand__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The in-place *&amp;* operator for the resulting *hexversion*: ::</span>
<span class="sd">     </span>
<span class="sd">            self-bitmask &amp;= other-bitmask</span>
<span class="sd">   </span>
<span class="sd">        Args:</span>
<span class="sd">            other:</span>
<span class="sd">                The bitmask for operations. ::</span>
<span class="sd">        </span>
<span class="sd">                    other := (</span>
<span class="sd">                         &lt;int-16bit-mask&gt;               # compare with hexversion </span>
<span class="sd">                       | &lt;dictionary&gt;)                  # compare keys only</span>
<span class="sd">                       | &lt;tuple&gt;)                       # compare key-index only</span>
<span class="sd">                       | &lt;instance-of-PythonDist&gt;       # compare both hexversions</span>
<span class="sd">                    )</span>
<span class="sd">           </span>
<span class="sd">        Returns:</span>
<span class="sd">            The resulting bitmask as numeric value.</span>
<span class="sd">        </span>
<span class="sd">        Raises:</span>
<span class="sd">        </span>
<span class="sd">            pass-through</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&amp;=</span> <span class="n">other</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">PythonDist</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&amp;=</span> <span class="n">other</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&amp;=</span> <span class="n">PythonDist</span><span class="p">(</span><span class="o">**</span><span class="n">other</span><span class="p">)</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&amp;=</span> <span class="n">PythonDist</span><span class="p">(</span><span class="o">*</span><span class="n">other</span><span class="p">)</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">PythonIDsError</span><span class="p">(</span><span class="s2">&quot;type not supported: other = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">other</span><span class="p">))</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># jython - 32bit is a long(unsigned int)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">long</span><span class="p">):</span>  <span class="c1"># @UndefinedVariable</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">&amp;=</span> <span class="n">other</span>
        <span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">category</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">disttype</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dist</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">distrel</span> <span class="o">=</span> <span class="n">decode_pydist_32bit_to_tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>

<div class="viewcode-block" id="PythonDist.__ior__"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.__ior__">[docs]</a>    <span class="k">def</span> <span class="nf">__ior__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The in-place *|* operator for the resulting *hexversion*: ::</span>
<span class="sd">        </span>
<span class="sd">            self-bitmask |= other-bitmask</span>
<span class="sd">   </span>
<span class="sd">        Args:</span>
<span class="sd">            other:</span>
<span class="sd">                The bitmask for operations. ::</span>

<span class="sd">                    other := (</span>
<span class="sd">                         &lt;int-16bit-mask&gt;               # compare with hexversion </span>
<span class="sd">                       | &lt;dictionary&gt;)                  # compare keys only</span>
<span class="sd">                       | &lt;tuple&gt;)                       # compare key-index only</span>
<span class="sd">                       | &lt;instance-of-PythonDist&gt;       # compare both hexversions</span>
<span class="sd">                    )</span>
<span class="sd">           </span>
<span class="sd">        Returns:</span>
<span class="sd">            The resulting bitmask as numeric value.</span>
<span class="sd">        </span>
<span class="sd">        Raises:</span>
<span class="sd">        </span>
<span class="sd">            pass-through</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">|=</span> <span class="n">other</span>
            <span class="k">return</span> <span class="bp">self</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">PythonDist</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">|=</span> <span class="n">other</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>
            <span class="k">return</span> <span class="bp">self</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">|=</span> <span class="n">PythonDist</span><span class="p">(</span><span class="o">**</span><span class="n">other</span><span class="p">)</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>
            <span class="k">return</span> <span class="bp">self</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">|=</span> <span class="n">PythonDist</span><span class="p">(</span><span class="o">*</span><span class="n">other</span><span class="p">)</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>
            <span class="k">return</span> <span class="bp">self</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># jython - 32bit is a long(unsigned int)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">long</span><span class="p">):</span>  <span class="c1"># @UndefinedVariable</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">|=</span> <span class="n">other</span>
                <span class="k">return</span> <span class="bp">self</span>
        <span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
            <span class="k">pass</span>
        
        <span class="k">raise</span> <span class="n">PythonIDsError</span><span class="p">(</span><span class="s2">&quot;type not supported: other = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">other</span><span class="p">))</span></div>

<div class="viewcode-block" id="PythonDist.__or__"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.__or__">[docs]</a>    <span class="k">def</span> <span class="nf">__or__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The *|* operator for the resulting *hexversion*: ::</span>
<span class="sd">        </span>
<span class="sd">            self-bitmask | other-bitmask</span>
<span class="sd">   </span>
<span class="sd">        Args:</span>
<span class="sd">            other:</span>
<span class="sd">                The bitmask for operations. ::</span>

<span class="sd">                    other := (</span>
<span class="sd">                         &lt;int-16bit-mask&gt;               # compare with hexversion </span>
<span class="sd">                       | &lt;dictionary&gt;)                  # compare keys only</span>
<span class="sd">                       | &lt;tuple&gt;)                       # compare key-index only</span>
<span class="sd">                       | &lt;instance-of-PythonDist&gt;       # compare both hexversions</span>
<span class="sd">                    )</span>
<span class="sd">           </span>
<span class="sd">        Returns:</span>
<span class="sd">            The resulting bitmask as numeric value.</span>
<span class="sd">        </span>
<span class="sd">        Raises:</span>
<span class="sd">        </span>
<span class="sd">            pass-through</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">|</span> <span class="n">other</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">PythonDist</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">|</span> <span class="n">other</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="c1"># use other as init parameters - simply trust or pass exception</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">|</span> <span class="n">PythonDist</span><span class="p">(</span><span class="o">**</span><span class="n">other</span><span class="p">)</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">|</span> <span class="n">PythonDist</span><span class="p">(</span><span class="o">*</span><span class="n">other</span><span class="p">)</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># jython - 32bit is a long(unsigned int)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">long</span><span class="p">):</span>  <span class="c1"># @UndefinedVariable</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hexrelease</span> <span class="o">|</span> <span class="n">other</span>
        <span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="k">raise</span> <span class="n">PythonIDsError</span><span class="p">(</span><span class="s2">&quot;type not supported: other = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">other</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="PythonDist.__rand__"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.__rand__">[docs]</a>    <span class="k">def</span> <span class="nf">__rand__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The r-side *&amp;* operator for the resulting *hexversion*: ::</span>
<span class="sd">        </span>
<span class="sd">            other-bitmask &amp; self-bitmask</span>
<span class="sd">   </span>
<span class="sd">        Args:</span>
<span class="sd">            other:</span>
<span class="sd">                The bitmask for operations. ::</span>
<span class="sd">        </span>
<span class="sd">                    other := (</span>
<span class="sd">                         &lt;int-16bit-mask&gt;               # compare with hexversion </span>
<span class="sd">                       | &lt;dictionary&gt;)                  # compare keys only</span>
<span class="sd">                       | &lt;tuple&gt;)                       # compare key-index only</span>
<span class="sd">                       | &lt;instance-of-PythonDist&gt;       # compare both hexversions</span>
<span class="sd">                    )</span>
<span class="sd">           </span>
<span class="sd">        Returns:</span>
<span class="sd">            The resulting bitmask as numeric value.</span>
<span class="sd">        </span>
<span class="sd">        Raises:</span>
<span class="sd">        </span>
<span class="sd">            pass-through</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__and__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></div>

<div class="viewcode-block" id="PythonDist.__ror__"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.__ror__">[docs]</a>    <span class="k">def</span> <span class="nf">__ror__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The right-side *|* operator for the resulting *hexversion*: ::</span>
<span class="sd">        </span>
<span class="sd">            other-bitmask | self-bitmask</span>
<span class="sd">   </span>
<span class="sd">        Args:</span>
<span class="sd">            other:</span>
<span class="sd">               The bitmask for operations. ::</span>

<span class="sd">                    other := (</span>
<span class="sd">                         &lt;int-16bit-mask&gt;               # compare with hexversion </span>
<span class="sd">                       | &lt;dictionary&gt;)                  # compare keys only</span>
<span class="sd">                       | &lt;tuple&gt;)                       # compare key-index only</span>
<span class="sd">                       | &lt;instance-of-PythonDist&gt;       # compare both hexversions</span>
<span class="sd">                    )</span>
<span class="sd">           </span>
<span class="sd">        Returns:</span>
<span class="sd">            The resulting bitmask as numeric value.</span>
<span class="sd">        </span>
<span class="sd">        Raises:</span>
<span class="sd">        </span>
<span class="sd">            pass-through</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__or__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span></div>
   
<div class="viewcode-block" id="PythonDist.get_hexrelease"><a class="viewcode-back" href="../../pythonids.pythondist.html#pythonids.pythondist.PythonDist.get_hexrelease">[docs]</a>    <span class="k">def</span> <span class="nf">get_hexrelease</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;   Returns the dynamically calculated hex version</span>
<span class="sd">        resulting from current values of the member attributes.</span>
<span class="sd">        When not all present, uses the available stack attributes.</span>
<span class="sd">        Does not use cached values, nor stores the result. </span>
<span class="sd">        For the use and recreation of cached values call  *__int__*. </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">category</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">disttype</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">dist</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">distrel</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="ne">KeyError</span><span class="p">):</span>
            <span class="c1"># basically for bootstrap of __init__ only</span>
            <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">|=</span> <span class="bp">self</span><span class="o">.</span><span class="n">category</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">|=</span> <span class="bp">self</span><span class="o">.</span><span class="n">disttype</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">|=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dist</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">|=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distrel</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">return</span> <span class="n">res</span></div></div>

            
<span class="c1">#</span>
<span class="c1"># the default is with core attributes only - which almost for sure must not raise exceptions at all</span>
<span class="c1">#</span>
<span class="n">PYDIST_DATA</span> <span class="o">=</span> <span class="n">PythonDist</span><span class="p">(</span><span class="n">forceall</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1">#: Creates the object for the current runtime environment and scans the parameters.</span>
<span class="n">PYDIST_DATA</span><span class="o">.</span><span class="n">scan</span><span class="p">()</span>


<span class="n">PYDIST</span> <span class="o">=</span> <span class="n">PYDIST_DATA</span><span class="o">.</span><span class="n">get_hexrelease</span><span class="p">()</span>  <span class="c1">#: Sets the hex value for fast access based on PYDIST_DATA,</span>

<span class="k">if</span> <span class="p">(</span><span class="n">PYDIST</span> <span class="o">&amp;</span> <span class="n">PYE_DIST</span><span class="p">)</span> <span class="o">==</span> <span class="n">PYE_JYTHON</span><span class="p">:</span>
    <span class="c1"># Jython knows the type long - and casts to it from 32bit on</span>
    <span class="n">isJython</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">ISINT</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">long</span><span class="p">,)</span>  <span class="c1"># @UndefinedVariable</span>
    <span class="n">ISNUM</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="n">long</span><span class="p">,)</span>  <span class="c1"># @UndefinedVariable</span>
    
<span class="k">else</span><span class="p">:</span>
    <span class="n">isJython</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">ISINT</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">,)</span>
    <span class="n">ISNUM</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,)</span>  <span class="c1"># @UndefinedVariable</span>

</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Copyright (C) 2016 Arno-Can Uestuensoez @Ingenieurbuero Arno-Can Uestuensoez
      <span class="lastupdated">
        Last updated on Dec 13, 2019.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>